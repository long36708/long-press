import{_ as e,a as p,b as l}from"./chunks/PageInfo.vue_vue_type_script_setup_true_lang.BCVHfIj7.js";import{_ as t,c as r,I as s,a7 as h,o as c}from"./chunks/framework.DGCt2JJv.js";import"./chunks/dayjs.min.DZyl58SH.js";const C=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"nodejs/复制移动文件.md","filePath":"nodejs/复制移动文件.md","lastUpdated":1714554379000}'),k={name:"nodejs/复制移动文件.md"},o=h(`<h2 id="cpy" tabindex="-1">cpy <a class="header-anchor" href="#cpy" aria-label="Permalink to &quot;cpy&quot;">​</a></h2><p><a href="https://github.com/sindresorhus/cpy" target="_blank" rel="noreferrer">https://github.com/sindresorhus/cpy</a></p><p>类似的包还有<a href="https://npm.devtool.tech/cpx" target="_blank" rel="noreferrer">cpx</a></p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;copy&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;cpx </span><span style="--shiki-light:#EE0000;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">src/**/*.{d.ts,vue,scss,css,svg,png,jpg}</span><span style="--shiki-light:#EE0000;--shiki-dark:#56B6C2;">\\&quot;</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> lib&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="cpr" tabindex="-1">cpr <a class="header-anchor" href="#cpr" aria-label="Permalink to &quot;cpr&quot;">​</a></h2><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>var cpr = require(&#39;cpr&#39;);</span></span>
<span class="line"><span>//or</span></span>
<span class="line"><span>var cpr = require(&#39;cpr&#39;).cpr; //Back compat</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cpr(&#39;/path/from&#39;, &#39;/path/to&#39;, {</span></span>
<span class="line"><span>    deleteFirst: true, //Delete &quot;to&quot; before</span></span>
<span class="line"><span>    overwrite: true, //If the file exists, overwrite it</span></span>
<span class="line"><span>    confirm: true //After the copy, stat all the copied files to make sure they are there</span></span>
<span class="line"><span>}, function(err, files) {</span></span>
<span class="line"><span>    //err - The error if any (err.list might be available with an array of errors for more detailed information)</span></span>
<span class="line"><span>    //files - List of files that we copied</span></span>
<span class="line"><span>});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cpr(&#39;/path/from&#39;, &#39;/path/to&#39;, function(err, files) {</span></span>
<span class="line"><span>    //err - The error if any (err.list might be available with an array of errors for more detailed information)</span></span>
<span class="line"><span>    //      In the case of an error, cpr continues to copy files but returns this error object with all of the files that it failed to copy.</span></span>
<span class="line"><span>    //files - List of files that we copied</span></span>
<span class="line"><span>});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>cpr 也可以从命令行使用，这对于跨平台支持很有用。</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">cpr</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">sourc</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">e&gt; &lt;</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">destinatio</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">n&gt; [options]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>将文件从 source 复制到 destination 。</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>Options:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-d ， --delete-first ： 复制前删除目标目录。</span></span>
<span class="line"><span>-f &lt;regex&gt;, --filter &lt;regex&gt;: Filter out any items that match &lt;regex&gt;, a case-insensitive regex pattern.</span></span>
<span class="line"><span>-h, --help: Display this usage info.</span></span>
<span class="line"><span>-o ， --overwrite ： 如果目标存在，则覆盖它。</span></span>
<span class="line"><span>-v, --version: Display the cpr version.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="recursive-copy" tabindex="-1">recursive-copy <a class="header-anchor" href="#recursive-copy" aria-label="Permalink to &quot;recursive-copy&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> copy</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &#39;recursive-copy&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/**</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * TREAD WITH CAUTION: this is a very dangerous function.</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * Overwrites files.</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> originalPath</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> * </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">@param</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> appPath</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> */</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;"> async</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> copyFiles</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">	originalPath</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">	appPath</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">string</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">): </span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">Promise</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">void</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	await</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> copy</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">originalPath</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">appPath</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">		overwrite</span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	});</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="contributors" tabindex="-1">Contributors <a class="header-anchor" href="#contributors" aria-label="Permalink to &quot;Contributors&quot;">​</a></h2>`,13);function d(b,u,y,g,m,f){const a=e,n=p,i=l;return c(),r("div",null,[o,s(a,{readTime:"1",words:"297"}),s(n),s(i)])}const _=t(k,[["render",d]]);export{C as __pageData,_ as default};
