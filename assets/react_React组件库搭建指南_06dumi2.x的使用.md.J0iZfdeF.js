import{_ as p,a as l,b as i}from"./chunks/PageInfo.vue_vue_type_script_setup_true_lang.BCVHfIj7.js";import{_ as r,c as t,I as s,a7 as c,o as d}from"./chunks/framework.DGCt2JJv.js";import"./chunks/dayjs.min.DZyl58SH.js";const q=JSON.parse('{"title":"dumi2.xçš„ä½¿ç”¨","description":"","frontmatter":{},"headers":[],"relativePath":"react/Reactç»„ä»¶åº“æ­å»ºæŒ‡å—/06dumi2.xçš„ä½¿ç”¨.md","filePath":"react/Reactç»„ä»¶åº“æ­å»ºæŒ‡å—/06dumi2.xçš„ä½¿ç”¨.md","lastUpdated":1712334308000}'),o={name:"react/Reactç»„ä»¶åº“æ­å»ºæŒ‡å—/06dumi2.xçš„ä½¿ç”¨.md"},u=c(`<h1 id="dumi2-xçš„ä½¿ç”¨" tabindex="-1">dumi2.xçš„ä½¿ç”¨ <a class="header-anchor" href="#dumi2-xçš„ä½¿ç”¨" aria-label="Permalink to &quot;dumi2.xçš„ä½¿ç”¨&quot;">â€‹</a></h1><h2 id="æ³¨æ„äº‹é¡¹" tabindex="-1">æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-label="Permalink to &quot;æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h2><p>å¤–éƒ¨å¼•å…¥ demoå¿…é¡»ä½¿ç”¨ åŒæ ‡ç­¾ã€‚</p><div class="language-jsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">-&lt;</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> src</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;path/to/demo.tsx&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> src</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;path/to/demo.tsx&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">&gt;&lt;/</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å·²å†…ç½®å…¨æ–‡æœç´¢ï¼Œé»˜è®¤ä¸å†é›†æˆ algoliaï¼Œæœ‰éœ€è¦å¯ä»¥æ‰‹åŠ¨è¦†ç›– SearchBar ç»„ä»¶</p><p>dumi 1.x ç”¨ title ä½œä¸ºç»„ä»¶åº“åç§°ï¼Œå¦‚æœä½ å¸Œæœ›è®¾ç½®çš„æ˜¯ç»„ä»¶åº“åç§°è€Œéé¡µé¢æ ‡é¢˜ï¼Œè¯·æ”¹ç”¨ name</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>-  title: &#39;xxx&#39;,</span></span>
<span class="line"><span>+  themeConfig: { name: &#39;xxx&#39; },</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>resolve é…ç½®é¡¹ æ‹†åˆ†æ™®é€šæ–‡æ¡£è§£æï¼ˆå¤šå±‚ï¼‰å’Œèµ„äº§æ–‡æ¡£ï¼ˆå•å±‚ + æŒ‰åˆ†ç±»æ·»åŠ è·¯ç”±å‰ç¼€ï¼‰è§£æï¼Œå¯è®¿é—®çº¦å®šå¼è·¯ç”±äº†è§£æ›´å¤š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>+    docDirs: [&#39;docs&#39;], // 2.0 é»˜è®¤å€¼</span></span>
<span class="line"><span>+    atomDirs: [{ type: &#39;component&#39;, dir: &#39;src&#39; }], // 2.0 é»˜è®¤å€¼</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>é»˜è®¤ä½¿ç”¨ webpack 5</p><div class="tip custom-block"><p class="custom-block-title">Monorepo æ¨¡å¼ä¸‹ç‰¹åˆ«æ³¨æ„ ğŸš¨ï¼š</p><p>ç”±äº dumi 2 ä¸å†æ„ŸçŸ¥ monorepo ï¼Œå› æ­¤ä¼šå‡ºç°çƒ­æ›´æ–°å¤±æ•ˆçš„é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®åŒ…ååˆ° src çš„ aliasã€‚</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>alias: {</span></span>
<span class="line"><span>  pkg: path.join(__dirname, &#39;packages/pkg/src&#39;);</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div><h2 id="ç›®å½•ç»“æ„å‡çº§" tabindex="-1">ç›®å½•ç»“æ„å‡çº§ <a class="header-anchor" href="#ç›®å½•ç»“æ„å‡çº§" aria-label="Permalink to &quot;ç›®å½•ç»“æ„å‡çº§&quot;">â€‹</a></h2><p>ç”±äº dumi 2.0 æ‹†åˆ†äº†æ™®é€šæ–‡æ¡£ä¸èµ„äº§æ–‡æ¡£çš„è§£æé€»è¾‘ï¼Œå…¶ä¸­èµ„äº§æ–‡æ¡£çš„è§£æä»…è¯†åˆ«è§£æè·¯å¾„é¡¶å±‚ md åŠé¡¶å±‚ä¸‹çš„ index.mdï¼Œ æ‰€ä»¥åœ¨ src ä¸‹çš„æ–‡æ¡£ç›®å½•ç»“æ„å¯èƒ½éœ€è¦åšè°ƒæ•´ï¼Œä¾‹å¦‚ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>.</span></span>
<span class="line"><span>â””â”€â”€ src</span></span>
<span class="line"><span>    â”œâ”€â”€ Foo</span></span>
<span class="line"><span>    â”‚   â”œâ”€â”€ index.md     # âœ… è¯†åˆ«</span></span>
<span class="line"><span>    â”‚   â””â”€â”€ a.md         # â—ï¸ é index.md ä¸å†è¯†åˆ«</span></span>
<span class="line"><span>    â”œâ”€â”€ components</span></span>
<span class="line"><span>    â”‚   â””â”€â”€ Bar</span></span>
<span class="line"><span>    â”‚       â””â”€â”€ index.md # â—ï¸ åµŒå¥—å±‚çº§ä¸å†è¯†åˆ«</span></span>
<span class="line"><span>    â””â”€â”€ Hello.md         # âœ… è¯†åˆ«</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>å¦‚æœä¸æ–¹ä¾¿è°ƒæ•´ç»“æ„ï¼Œå¯ä»¥é€šè¿‡é…ç½® resolve.atomDirs æ¥æŒ‡å®šè¯†åˆ«çš„ç›®å½•ï¼Œä¾‹å¦‚ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>export default {</span></span>
<span class="line"><span>  resolve: {</span></span>
<span class="line"><span>    atomDirs: [</span></span>
<span class="line"><span>      { type: &#39;component&#39;, dir: &#39;src&#39; }, // é»˜è®¤å€¼</span></span>
<span class="line"><span>      # è¿½åŠ ä¸€ä¸ªç»„ä»¶èµ„äº§çš„è§£æç›®å½•</span></span>
<span class="line"><span>+     { type: &#39;component&#39;, dir: &#39;src/components&#39; },</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Monorepo æ¨¡å¼ä¸‹</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>export default {</span></span>
<span class="line"><span>  resolve: {</span></span>
<span class="line"><span>    atomDirs: [</span></span>
<span class="line"><span>      { type: &#39;component&#39;, dir: &#39;src&#39; }, // é»˜è®¤å€¼</span></span>
<span class="line"><span>      # åšé¡¶çº§è·¯ç”±çš„åŒºåˆ†ï¼Œè¢«è§£æåˆ°çš„ md å‡æœ‰å¯¹åº” \`type\` å¤æ•°å½¢å¼çš„è·¯ç”±å‰ç¼€ï¼Œä¾‹å¦‚ \`/basic-components/foo\`</span></span>
<span class="line"><span>+     { type: &#39;basic-component&#39;, dir: &#39;packages/basic/src&#39; },</span></span>
<span class="line"><span>+     { type: &#39;complex-component&#39;, dir: &#39;packages/complex/src&#39; },</span></span>
<span class="line"><span>    ]</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="å¸¸è§é—®é¢˜" tabindex="-1">å¸¸è§é—®é¢˜ <a class="header-anchor" href="#å¸¸è§é—®é¢˜" aria-label="Permalink to &quot;å¸¸è§é—®é¢˜&quot;">â€‹</a></h2><h3 id="å¦‚ä½•å®Œå…¨è‡ªå®šä¹‰é¦–é¡µ" tabindex="-1">å¦‚ä½•å®Œå…¨è‡ªå®šä¹‰é¦–é¡µï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•å®Œå…¨è‡ªå®šä¹‰é¦–é¡µ" aria-label="Permalink to &quot;å¦‚ä½•å®Œå…¨è‡ªå®šä¹‰é¦–é¡µï¼Ÿ&quot;">â€‹</a></h3><p>åˆ›å»º .dumi/pages/index.tsx å³å¯ç”¨ React æ¥ç¼–å†™é¦–é¡µï¼Œæ³¨æ„ä¸è¦åŒæ—¶åœ¨æ–‡æ¡£è§£æçš„æ ¹ç›®å½•ä¸­åˆ›å»º index.mdï¼Œä¼šå¯¼è‡´è·¯ç”±å†²çªã€‚</p><h3 id="å¦‚ä½•åœ¨-cra-ç­‰é-umi-é¡¹ç›®ä¸­ä½¿ç”¨-dumi" tabindex="-1">å¦‚ä½•åœ¨ cra ç­‰é umi é¡¹ç›®ä¸­ä½¿ç”¨ dumiï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•åœ¨-cra-ç­‰é-umi-é¡¹ç›®ä¸­ä½¿ç”¨-dumi" aria-label="Permalink to &quot;å¦‚ä½•åœ¨ cra ç­‰é umi é¡¹ç›®ä¸­ä½¿ç”¨ dumiï¼Ÿ&quot;">â€‹</a></h3><p>å®‰è£…æ¨¡å—ã€‚</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>yarn add dumi cross-env -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¢åŠ å¯åŠ¨å‘½ä»¤ï¼Œä¿®æ”¹ package.jsonã€‚</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>  &quot;scripts&quot;: {</span></span>
<span class="line"><span>    &quot;dumi&quot;: &quot;cross-env APP_ROOT=dumi dumi dev&quot;,</span></span>
<span class="line"><span>    &quot;dumi-build&quot;: &quot;cross-env APP_ROOT=dumi dumi build&quot;</span></span>
<span class="line"><span>  },</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¢åŠ é…ç½®ï¼Œæ–°å»º .dumirc.js|ts åˆ° APP_ROOT æŒ‡å®šçš„æ ¹ç›®å½•ä¸­ã€‚dumi ä¼šæ ¹æ® APP_ROOT æ¥æ¶ˆè´¹é…ç½®æ–‡ä»¶ï¼Œå¦‚æœä¸æŒ‡å®š APP_ROOTï¼Œåˆ™åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºå³å¯ã€‚</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>export default {</span></span>
<span class="line"><span>  chainWebpack(memo) {</span></span>
<span class="line"><span>    memo.plugins.delete(&#39;copy&#39;);</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æ–°å»ºæ–‡æ¡£ç›®å½• dumi/docs/ï¼Œè¿™é‡Œçš„ dumi ç›®å½•å³ç¬¬äºŒæ­¥ä¸­é…ç½®çš„ç¯å¢ƒå˜é‡ï¼Œä½ å¯ä»¥éšæ„åŒæ­¥ä¿®æ”¹ã€‚</p><p>æ–°å»ºæ–‡æ¡£ dumi/docs/index.mdã€‚</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span># è¿™æ˜¯ä¸€ä¸ª dumi ç»“åˆ create-react-app çš„ Demo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å°† dumi çš„ä¸´æ—¶æ–‡ä»¶æ·»åŠ åˆ° .gitignore ä¸­ã€‚</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>.dumi/tmp*</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="å¦‚ä½•æ·»åŠ ç»Ÿè®¡è„šæœ¬å’Œå…¨å±€-css-æ ·å¼" tabindex="-1">å¦‚ä½•æ·»åŠ ç»Ÿè®¡è„šæœ¬å’Œå…¨å±€ CSS æ ·å¼ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•æ·»åŠ ç»Ÿè®¡è„šæœ¬å’Œå…¨å±€-css-æ ·å¼" aria-label="Permalink to &quot;å¦‚ä½•æ·»åŠ ç»Ÿè®¡è„šæœ¬å’Œå…¨å±€ CSS æ ·å¼ï¼Ÿ&quot;">â€‹</a></h3><p>ç»Ÿè®¡è„šæœ¬å¯ä»¥ä½¿ç”¨é…ç½®é¡¹ analyticsï¼Œå…¨å±€æ ·å¼å¯ä»¥æ·»åŠ åˆ° .dumi/global.{less,css} æ–‡ä»¶å†…ã€‚</p><h3 id="éƒ¨ç½²åˆ°-github-pages" tabindex="-1">éƒ¨ç½²åˆ° GitHub Pages <a class="header-anchor" href="#éƒ¨ç½²åˆ°-github-pages" aria-label="Permalink to &quot;éƒ¨ç½²åˆ° GitHub Pages&quot;">â€‹</a></h3><p>ç”±äº GitHub Pages æ˜¯éåŸŸåæ ¹è·¯å¾„éƒ¨ç½², base å’Œ publicPath é…ç½®é¡¹éœ€æ”¹ä¸º ä»“åº“åç§° ã€‚å‚è€ƒ éæ ¹ç›®å½•éƒ¨ç½²</p><p>æ‰‹åŠ¨éƒ¨ç½² å€ŸåŠ© gh-pages å¯ä»¥è½»æ¾å¸®åŠ©æˆ‘ä»¬éƒ¨ç½²æ–‡æ¡£åˆ° Github Page</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>npm install gh-pages --save-dev</span></span>
<span class="line"><span># or</span></span>
<span class="line"><span>yarn add gh-pages -D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>package.json ä¸­æ·»åŠ </p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>&quot;scripts&quot;: {</span></span>
<span class="line"><span>  &quot;deploy&quot;: &quot;gh-pages -d dist&quot;</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>åŒæ ·çš„ï¼Œå¦‚æœæ˜¯ react æ–‡æ¡£ï¼Œä½¿ç”¨ gh-pages -d docs-distå‘½ä»¤å³å¯ã€‚</p></blockquote><p>ç¼–è¯‘ç”Ÿæˆ dist ç›®å½•</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span># site æ¨¡ç‰ˆ</span></span>
<span class="line"><span>npm run build</span></span>
<span class="line"><span></span></span>
<span class="line"><span># react æ¨¡ç‰ˆ</span></span>
<span class="line"><span>npm run docs:build</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä¸€é”®å‘å¸ƒ</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>npm run deploy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è‡ªåŠ¨éƒ¨ç½² åˆ©ç”¨ Github Action åœ¨æ¯æ¬¡ main åˆ†æ”¯æ›´æ–°åè‡ªåŠ¨éƒ¨ç½²</p><p>æ–°å»º .github/workflows/gh-pages.yml æ–‡ä»¶</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>name: github pages</span></span>
<span class="line"><span></span></span>
<span class="line"><span>on:</span></span>
<span class="line"><span>  push:</span></span>
<span class="line"><span>    branches:</span></span>
<span class="line"><span>      - main # default branch</span></span>
<span class="line"><span></span></span>
<span class="line"><span>jobs:</span></span>
<span class="line"><span>  deploy:</span></span>
<span class="line"><span>    runs-on: ubuntu-latest</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span>      - name: Checkout</span></span>
<span class="line"><span>        uses: actions/checkout@v3</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          # å¦‚æœé…ç½® themeConfig.lastUpdated ä¸º falseï¼Œåˆ™ä¸éœ€è¦æ·»åŠ è¯¥å‚æ•°ä»¥åŠ å¿«æ£€å‡ºé€Ÿåº¦</span></span>
<span class="line"><span>          fetch-depth: 0</span></span>
<span class="line"><span>      - name: Install dependencies</span></span>
<span class="line"><span>        run: npm install</span></span>
<span class="line"><span>      - name: Build with dumi</span></span>
<span class="line"><span>        # æ–‡æ¡£ç¼–è¯‘å‘½ä»¤ï¼Œå¦‚æœæ˜¯ react æ¨¡æ¿éœ€è¦ä¿®æ”¹ä¸º npm run docs:build</span></span>
<span class="line"><span>        run: npm run build</span></span>
<span class="line"><span>      - name: Deploy</span></span>
<span class="line"><span>        uses: peaceiris/actions-gh-pages@v3</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          github_token: \${{ secrets.GITHUB_TOKEN }}</span></span>
<span class="line"><span>          # æ–‡æ¡£ç›®å½•ï¼Œå¦‚æœæ˜¯ react æ¨¡æ¿éœ€è¦ä¿®æ”¹ä¸º docs-dist</span></span>
<span class="line"><span>          publish_dir: ./dist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="ä¸ºä»€ä¹ˆä¸æ”¯æŒ-css-modules" tabindex="-1">ä¸ºä»€ä¹ˆä¸æ”¯æŒ CSS Modulesï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆä¸æ”¯æŒ-css-modules" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆä¸æ”¯æŒ CSS Modulesï¼Ÿ&quot;">â€‹</a></h3><p>ä¸»è¦ä¸¤ä¸ªåŸå› ï¼š</p><ol><li>ä½¿ç”¨è€…å¾ˆéš¾è¦†å†™æ ·å¼ï¼Œå› ä¸ºæœ€ç»ˆ className ä¸ç¨³å®š</li><li>è‡ªåŠ¨ CSS Modules ä¾èµ– babel ç¼–è¯‘äº§ç‰©ï¼Œç»™ä½¿ç”¨é¡¹ç›®å¸¦æ¥é¢å¤–çš„ç¼–è¯‘æˆæœ¬ï¼Œè€Œå¤§éƒ¨åˆ†æ¡†æ¶é»˜è®¤éƒ½ä¸ç¼–è¯‘ node_modulesï¼ˆæ¯”å¦‚ Umi æ¡†æ¶å°±éœ€è¦é…ç½® extraBabelIncludes æ‰ä¼šç¼–è¯‘ node_modules ä¸‹çš„äº§ç‰©ï¼‰</li></ol><p>ä¹Ÿè®¸å¤§éƒ¨åˆ†äººé€‰æ‹©åœ¨ç»„ä»¶åº“é¡¹ç›®ä¸­ä½¿ç”¨å®ƒï¼Œæ˜¯å› ä¸ºåšå‰ç«¯åº”ç”¨ç ”å‘æ—¶çš„ä¹ æƒ¯æ€§é€‰å‹ï¼Œä½†å®ƒå…¶å®ä¸é€‚åˆç»„ä»¶åº“é¡¹ç›®ï¼›å¦å¤–ï¼ŒåŸå›  2 ä¹Ÿä¼šäº§ç”Ÿé¢å¤–çš„è°ƒæ—¶æˆæœ¬ï¼šã€ä¸ºä»€ä¹ˆ dev ç”Ÿæ•ˆã€å‘å¸ƒååœ¨é¡¹ç›®é‡Œä¸ç”Ÿæ•ˆï¼Ÿã€</p><h3 id="ä¸ºä»€ä¹ˆç»„ä»¶åº“å‘å¸ƒä»¥å-åœ¨é¡¹ç›®ä¸­å¼•å…¥ç»„ä»¶ä½†æ ·å¼ä¸ç”Ÿæ•ˆ" tabindex="-1">ä¸ºä»€ä¹ˆç»„ä»¶åº“å‘å¸ƒä»¥åï¼Œåœ¨é¡¹ç›®ä¸­å¼•å…¥ç»„ä»¶ä½†æ ·å¼ä¸ç”Ÿæ•ˆï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆç»„ä»¶åº“å‘å¸ƒä»¥å-åœ¨é¡¹ç›®ä¸­å¼•å…¥ç»„ä»¶ä½†æ ·å¼ä¸ç”Ÿæ•ˆ" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆç»„ä»¶åº“å‘å¸ƒä»¥åï¼Œåœ¨é¡¹ç›®ä¸­å¼•å…¥ç»„ä»¶ä½†æ ·å¼ä¸ç”Ÿæ•ˆï¼Ÿ&quot;">â€‹</a></h3><blockquote><p>è¿™é‡Œä»…è®¨è®ºé CSS-in-JS çš„ç»„ä»¶åº“ï¼ŒCSS-in-JS çš„ç»„ä»¶åº“å¦‚æœå­˜åœ¨æ­¤é—®é¢˜ï¼Œåº”è¯¥å’Œç»„ä»¶å®ç°æœ‰å…³ã€‚</p></blockquote><p>é‡åˆ°è¿™ä¸ªé—®é¢˜è¯´æ˜ç»„ä»¶åº“æ–‡æ¡£ä¸­å¼•å…¥çš„ç»„ä»¶æ˜¯æœ‰æ ·å¼çš„ï¼Œéœ€è¦å…ˆç¡®è®¤æ–‡æ¡£ä¸­æ ·å¼ç”Ÿæ•ˆçš„åŸå› ï¼Œé€šå¸¸æœ‰ 3 ç§å¯èƒ½ï¼š</p><ol><li>å€ŸåŠ© .dumi/global.less åŠ è½½äº†ç»„ä»¶åº“æ ·å¼è¡¨</li><li>å€ŸåŠ© .dumirc.ts ä¸­çš„ styles é…ç½®é¡¹åŠ è½½äº†ç»„ä»¶åº“æ ·å¼è¡¨</li><li>å€ŸåŠ© babel-plugin-import å¹¶å°†å…¶é…ç½®åˆ° .dumirc.ts ä¸­æŒ‰éœ€åŠ è½½äº†ç»„ä»¶æ ·å¼</li></ol><p>å®é™…ä¸Šï¼Œè¿™äº›æ ·å¼å¼•å…¥æ–¹æ¡ˆå‡åªå¯¹æ–‡æ¡£æ„å»ºç”Ÿæ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬éƒ½æ˜¯ä¾æ‰˜äº dumi æ¡†æ¶æä¾›çš„èƒ½åŠ›ï¼Œè€Œç»„ä»¶åº“å‘å¸ƒä¸º NPM åŒ…ä»¥åï¼Œç»„ä»¶åº“çš„ç¼–è¯‘å°†ç”±å®é™…ä½¿ç”¨ç»„ä»¶åº“çš„é¡¹ç›®è´Ÿè´£ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®é¡¹ç›®ä½¿ç”¨çš„å¼€å‘æ¡†æ¶åšç­‰ä»·é…ç½®ï¼Œæ‰èƒ½ç¡®ä¿æ ·å¼ç”Ÿæ•ˆï¼Œæ­¤å¤„ä»¥ Umi é¡¹ç›®ä¸ºä¾‹ï¼Œä¸Šè¿° 3 ç§æ–¹æ¡ˆçš„ç­‰ä»·é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š</p><ol><li>å€ŸåŠ© src/global.less åŠ è½½ç»„ä»¶åº“æ ·å¼è¡¨</li><li>å€ŸåŠ© .umirc.ts ä¸­çš„ styles é…ç½®é¡¹åŠ è½½ç»„ä»¶åº“æ ·å¼è¡¨</li><li>å€ŸåŠ© babel-plugin-import å¹¶å°†å…¶é…ç½®åˆ° .umirc.ts ä¸­æŒ‰éœ€åŠ è½½ç»„ä»¶æ ·å¼</li></ol><p>å…¶å®è¯¥é—®é¢˜è¿˜æœ‰ä¸€ç§è§£å†³æ€è·¯ï¼Œé‚£å°±æ˜¯ç›´æ¥åœ¨ç»„ä»¶æºç é‡Œå¼•å…¥æ ·å¼è¡¨ï¼Œç±»ä¼¼ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>import &#39;./index.less&#39;;</span></span>
<span class="line"><span>// or</span></span>
<span class="line"><span>import &#39;./index.css&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ç»„ä»¶å…¶ä»–æºç </span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿™æ ·æ— è®ºæ˜¯ dumi è¿˜æ˜¯å®é™…é¡¹ç›®é‡Œï¼Œéƒ½ä¸éœ€è¦åšé¢å¤–é…ç½®ï¼Œä½†è¿™ç§åšæ³•ä¹Ÿæœ‰ä¸€äº›é™åˆ¶ï¼š <strong>å¦‚æœå¼•å…¥çš„æ˜¯ .lessï¼Œé‚£ä¹ˆç›®æ ‡é¡¹ç›®çš„å¼€å‘æ¡†æ¶å¿…é¡»æ”¯æŒç¼–è¯‘Lessã€‚</strong></p><h2 id="contributors" tabindex="-1">Contributors <a class="header-anchor" href="#contributors" aria-label="Permalink to &quot;Contributors&quot;">â€‹</a></h2>`,64);function b(m,h,v,g,k,x){const a=p,n=l,e=i;return d(),t("div",null,[u,s(a,{readTime:"5",words:"1.6k"}),s(n),s(e)])}const f=r(o,[["render",b]]);export{q as __pageData,f as default};
