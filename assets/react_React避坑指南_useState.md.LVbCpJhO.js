import{_ as l,a as p,b as t}from"./chunks/PageInfo.vue_vue_type_script_setup_true_lang.BCVHfIj7.js";import{_ as e,c as h,I as s,a7 as k,o as r}from"./chunks/framework.DGCt2JJv.js";import"./chunks/dayjs.min.DZyl58SH.js";const d="/long-press/assets/14c97ee0.pIEDnhnU.png",E=JSON.parse('{"title":"useState","description":"","frontmatter":{},"headers":[],"relativePath":"react/Reacté¿å‘æŒ‡å—/useState.md","filePath":"react/Reacté¿å‘æŒ‡å—/useState.md","lastUpdated":1712398251000}'),B={name:"react/Reacté¿å‘æŒ‡å—/useState.md"},c=k(`<h1 id="usestate" tabindex="-1">useState <a class="header-anchor" href="#usestate" aria-label="Permalink to &quot;useState&quot;">â€‹</a></h1><h2 id="ä¿®æ”¹çŠ¶æ€æ˜¯å¼‚æ­¥çš„" tabindex="-1">ä¿®æ”¹çŠ¶æ€æ˜¯å¼‚æ­¥çš„ <a class="header-anchor" href="#ä¿®æ”¹çŠ¶æ€æ˜¯å¼‚æ­¥çš„" aria-label="Permalink to &quot;ä¿®æ”¹çŠ¶æ€æ˜¯å¼‚æ­¥çš„&quot;">â€‹</a></h2><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>//é”™è¯¯ä¾‹å­</span></span>
<span class="line"><span>import React, { useState } from &#39;react&#39;;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>export const MyComponent: React.FC&lt;{}&gt; = () =&gt; {</span></span>
<span class="line"><span>    const [value, setValue] = useState(0);</span></span>
<span class="line"><span> 		</span></span>
<span class="line"><span>    function dealClick() {</span></span>
<span class="line"><span>        setValue(100);</span></span>
<span class="line"><span>        console.log(value); // &lt;- 0</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    return (</span></span>
<span class="line"><span>        &lt;span&gt;Value is {value}&lt;/span&gt;</span></span>
<span class="line"><span>    );</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>useState è¿”å›çš„ä¿®æ”¹å‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œè°ƒç”¨åå¹¶ä¸ä¼šç›´æ¥ç”Ÿæ•ˆï¼Œå› æ­¤ç«‹é©¬è¯»å– value è·å–åˆ°çš„æ˜¯æ—§å€¼ï¼ˆ0ï¼‰ã€‚</p><p>React è¿™æ ·è®¾è®¡çš„ç›®çš„æ˜¯ä¸ºäº†æ€§èƒ½è€ƒè™‘ï¼Œäº‰å–æŠŠæ‰€æœ‰çŠ¶æ€æ”¹å˜ååªé‡ç»˜ä¸€æ¬¡å°±èƒ½è§£å†³æ›´æ–°é—®é¢˜ï¼Œè€Œä¸æ˜¯æ”¹ä¸€æ¬¡é‡ç»˜ä¸€æ¬¡ï¼Œä¹Ÿæ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ã€‚</p><h2 id="åœ¨-timeout-ä¸­è¯»ä¸åˆ°å…¶ä»–çŠ¶æ€çš„æ–°å€¼" tabindex="-1">åœ¨ timeout ä¸­è¯»ä¸åˆ°å…¶ä»–çŠ¶æ€çš„æ–°å€¼ <a class="header-anchor" href="#åœ¨-timeout-ä¸­è¯»ä¸åˆ°å…¶ä»–çŠ¶æ€çš„æ–°å€¼" aria-label="Permalink to &quot;åœ¨ timeout ä¸­è¯»ä¸åˆ°å…¶ä»–çŠ¶æ€çš„æ–°å€¼&quot;">â€‹</a></h2><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>//é”™è¯¯ä¾‹å­</span></span>
<span class="line"><span>import React, { useState, useEffect } from &#39;react&#39;;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>export const MyComponent: React.FC&lt;{}&gt; = () =&gt; {</span></span>
<span class="line"><span>    const [value, setValue] = useState(0);</span></span>
<span class="line"><span>    const [anotherValue, setAnotherValue] = useState(0);</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    useEffect(() =&gt; {</span></span>
<span class="line"><span>        window.setTimeout(() =&gt; {</span></span>
<span class="line"><span>            console.log(&#39;setAnotherValue&#39;, value) // &lt;- 0</span></span>
<span class="line"><span>            setAnotherValue(value);</span></span>
<span class="line"><span>        }, 1000);</span></span>
<span class="line"><span>        setValue(100);</span></span>
<span class="line"><span>    }, []);</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    return (</span></span>
<span class="line"><span>        &lt;span&gt;Value is {value}, AnotherValue is {anotherValue}&lt;/span&gt;</span></span>
<span class="line"><span>    );</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>è¿™ä¸ªé—®é¢˜å’Œä¸Šé¢ä½¿ç”¨ useState å»è®°å½• timer ç±»ä¼¼ï¼Œåœ¨ç”Ÿæˆ timeout é—­åŒ…æ—¶ï¼Œvalue çš„å€¼æ˜¯ 0ã€‚</p><p>è™½ç„¶ä¹‹åé€šè¿‡ setValue ä¿®æ”¹äº†çŠ¶æ€ï¼Œä½† React å†…éƒ¨å·²ç»æŒ‡å‘äº†æ–°çš„å˜é‡ï¼Œè€Œæ—§çš„å˜é‡ä»è¢«é—­åŒ…å¼•ç”¨ï¼Œæ‰€ä»¥é—­åŒ…æ‹¿åˆ°çš„ä¾ç„¶æ˜¯æ—§çš„åˆå§‹å€¼ï¼Œä¹Ÿå°±æ˜¯ 0ã€‚</p><p>è¦ä¿®æ­£è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿä¾ç„¶æ˜¯ä½¿ç”¨ useRefï¼Œå¦‚ä¸‹ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>import React, { useState, useEffect, useRef } from &#39;react&#39;;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>export const MyComponent: React.FC&lt;{}&gt; = () =&gt; {</span></span>
<span class="line"><span>    const [value, setValue] = useState(0);</span></span>
<span class="line"><span>    const [anotherValue, setAnotherValue] = useState(0);</span></span>
<span class="line"><span>    const valueRef = useRef(value);</span></span>
<span class="line"><span>    valueRef.current = value;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    useEffect(() =&gt; {</span></span>
<span class="line"><span>        window.setTimeout(() =&gt; {</span></span>
<span class="line"><span>            console.log(&#39;setAnotherValue&#39;, valueRef.current) // &lt;- 100</span></span>
<span class="line"><span>            setAnotherValue(valueRef.current);</span></span>
<span class="line"><span>        }, 1000);</span></span>
<span class="line"><span>        setValue(100);</span></span>
<span class="line"><span>    }, []);</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    return (</span></span>
<span class="line"><span>        &lt;span&gt;Value is {value}, AnotherValue is {anotherValue}&lt;/span&gt;</span></span>
<span class="line"><span>    );</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="è¿˜æ˜¯-timeout-çš„é—®é¢˜" tabindex="-1">è¿˜æ˜¯ timeout çš„é—®é¢˜ <a class="header-anchor" href="#è¿˜æ˜¯-timeout-çš„é—®é¢˜" aria-label="Permalink to &quot;è¿˜æ˜¯ timeout çš„é—®é¢˜&quot;">â€‹</a></h2><p>å‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªæŒ‰é’®ï¼Œé»˜è®¤æ˜¾ç¤º falseã€‚å½“ç‚¹å‡»åæ›´æ”¹ä¸º trueï¼Œä½†ä¸¤ç§’åå˜å› falseï¼ˆ true å’Œ false å¯ä»¥äº’æ¢ï¼‰ã€‚è€ƒè™‘å¦‚ä¸‹ä»£ç ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>import React, { useState } from &#39;react&#39;;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>export const MyComponent: React.FC&lt;{}&gt; = () =&gt; {</span></span>
<span class="line"><span>    const [flag, setFlag] = useState(false);</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    function dealClick() {</span></span>
<span class="line"><span>        setFlag(!flag);</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>        setTimeout(() =&gt; {</span></span>
<span class="line"><span>            setFlag(!flag);</span></span>
<span class="line"><span>        }, 2000);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    return (</span></span>
<span class="line"><span>        &lt;button onClick={dealClick}&gt;{flag ? &quot;true&quot; : &quot;false&quot;}&lt;/button&gt;</span></span>
<span class="line"><span>    );</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>æˆ‘ä»¬ä¼šå‘ç°ç‚¹å‡»æ—¶èƒ½å¤Ÿæ­£å¸¸åˆ‡æ¢ï¼Œä½†æ˜¯ä¸¤ç§’åå¹¶ä¸ä¼šå˜å›æ¥ã€‚</p><p>ç©¶å…¶åŸå› ï¼Œä¾ç„¶åœ¨äº useState çš„æ›´æ–°æ˜¯é‡æ–°æŒ‡å‘æ–°å€¼ï¼Œä½† timeout çš„é—­åŒ…ä¾ç„¶æŒ‡å‘äº†æ—§å€¼ã€‚</p><p>æ‰€ä»¥åœ¨ä¾‹å­ä¸­ï¼Œflag ä¸€ç›´æ˜¯ falseï¼Œè™½ç„¶åç»­ setFlag(!flag)ï¼Œä½†ä¾ç„¶æ²¡æœ‰å½±å“åˆ° timeout é‡Œé¢çš„ flagã€‚</p><p>è§£å†³æ–¹æ³•æœ‰äºŒã€‚</p><p>ç¬¬ä¸€ä¸ªè¿˜æ˜¯åˆ©ç”¨ useRef</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>import React, { useState, useRef } from &#39;react&#39;;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>export const MyComponent: React.FC&lt;{}&gt; = () =&gt; {</span></span>
<span class="line"><span>    const [flag, setFlag] = useState(false);</span></span>
<span class="line"><span>    const flagRef = useRef(flag);</span></span>
<span class="line"><span>    flagRef.current = flag;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    function dealClick() {</span></span>
<span class="line"><span>        setFlag(!flagRef.current);</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>        setTimeout(() =&gt; {</span></span>
<span class="line"><span>            setFlag(!flagRef.current);</span></span>
<span class="line"><span>        }, 2000);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    return (</span></span>
<span class="line"><span>        &lt;button onClick={dealClick}&gt;{flag ? &quot;true&quot; : &quot;false&quot;}&lt;/button&gt;</span></span>
<span class="line"><span>    );</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>ç¬¬äºŒä¸ªæ˜¯åˆ©ç”¨ setFlag å¯ä»¥æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå¹¶åˆ©ç”¨é—­åŒ…å’Œå‚æ•°æ¥å®ç°(å‡½æ•°å¼æ›´æ–°)</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>import React, { useState } from &#39;react&#39;;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>export const MyComponent: React.FC&lt;{}&gt; = () =&gt; {</span></span>
<span class="line"><span>    const [flag, setFlag] = useState(false);</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    function dealClick() {</span></span>
<span class="line"><span>        setFlag(!flag);</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>        setTimeout(() =&gt; {</span></span>
<span class="line"><span>            setFlag(flag =&gt; !flag);</span></span>
<span class="line"><span>        }, 2000);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>    return (</span></span>
<span class="line"><span>        &lt;button onClick={dealClick}&gt;{flag ? &quot;true&quot; : &quot;false&quot;}&lt;/button&gt;</span></span>
<span class="line"><span>    );</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>å½“ setFlag å‚æ•°ä¸ºå‡½æ•°ç±»å‹æ—¶ï¼Œè¿™ä¸ªå‡½æ•°çš„æ„ä¹‰æ˜¯å‘Šè¯‰ React å¦‚ä½•ä»å½“å‰çŠ¶æ€äº§ç”Ÿå‡ºæ–°çš„çŠ¶æ€ï¼ˆç±»ä¼¼äº redux çš„ reducerï¼Œä¸è¿‡æ˜¯åªé’ˆå¯¹ä¸€ä¸ªçŠ¶æ€çš„å­ reducerï¼‰ã€‚ æ—¢ç„¶æ˜¯å½“å‰çŠ¶æ€ï¼Œå› æ­¤è¿”å›å€¼å–åï¼Œå°±èƒ½å¤Ÿå®ç°æ•ˆæœã€‚</p><div class="tip custom-block"><p class="custom-block-title">æç¤º</p><p>åœ¨ Hook ä¸­å‡ºç°å¼‚æ­¥ä»»åŠ¡å°¤å…¶æ˜¯ timeout çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦æ ¼å¤–æ³¨æ„ã€‚ useState åªèƒ½ä¿è¯å¤šæ¬¡é‡ç»˜ä¹‹é—´çš„çŠ¶æ€å€¼æ˜¯ä¸€æ ·çš„ï¼Œä½†ä¸ä¿è¯å®ƒä»¬å°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œ å› æ­¤å‡ºç°é—­åŒ…å¼•ç”¨çš„æ—¶å€™ï¼Œå°½é‡ä½¿ç”¨ useRef è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ state æœ¬èº«ï¼Œå¦åˆ™å°±å®¹æ˜“è¸©å‘ã€‚</p><p>åä¹‹å¦‚æœçš„ç¡®ç¢°åˆ°äº†è®¾ç½®äº†æ–°å€¼ä½†è¯»å–åˆ°æ—§å€¼çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥å¾€è¿™ä¸ªæ–¹å‘æƒ³æƒ³ï¼Œå¯èƒ½å°±æ˜¯è¿™ä¸ªåŸå› æ‰€è‡´ã€‚</p></div><h2 id="é”™è¯¯çš„åˆå§‹åŒ–usestate" tabindex="-1">é”™è¯¯çš„åˆå§‹åŒ–useState <a class="header-anchor" href="#é”™è¯¯çš„åˆå§‹åŒ–usestate" aria-label="Permalink to &quot;é”™è¯¯çš„åˆå§‹åŒ–useState&quot;">â€‹</a></h2><p>é”™è¯¯çš„åˆå§‹åŒ–useStateæ˜¯ä¸€ä¸ªå¸¸è§çš„é”™è¯¯ï¼Œå°¤å…¶æ˜¯å¯¹äºæ–°æ‰‹Reactå¼€å‘è€…ã€‚ åˆå§‹åŒ–æ˜¯æŒ‡è®¾ç½®çŠ¶æ€çš„åˆå§‹å€¼ï¼Œè€ŒuseStateå…è®¸ä½¿ç”¨ä»»ä½•å€¼æ¥å®šä¹‰å…¶åˆå§‹çŠ¶æ€ã€‚ ç„¶è€Œï¼Œé—®é¢˜åœ¨äºï¼Œå¦‚æœä½¿ç”¨äº†ä¸ç»„ä»¶é¢„æœŸçŠ¶æ€ä¸åŒ¹é…çš„æ•°æ®ç±»å‹æ¥åˆå§‹åŒ–useStateï¼Œå¯èƒ½ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºå‡ºç°æ„å¤–è¡Œä¸ºã€‚</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;react&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">	// é”™è¯¯çš„åˆå§‹åŒ–æ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;App&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">User: </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼ŒuserçŠ¶æ€åº”è¯¥åŒ…å«ä¸€ä¸ªå…·æœ‰nameå±æ€§çš„å¯¹è±¡ï¼Œä½†å´æ²¡æœ‰æ˜ç¡®å®šä¹‰userçš„åˆå§‹å€¼ã€‚è¿™å¯èƒ½å¯¼è‡´UIæ¸²æŸ“é”™è¯¯ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>æ­£ç¡®çš„æ–¹å¼æ˜¯åˆå§‹åŒ–useStateæ—¶ä¼ é€’é¢„æœŸçš„æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚ä¸€ä¸ªç©ºå¯¹è±¡ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="ä¸ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦" tabindex="-1">ä¸ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦ <a class="header-anchor" href="#ä¸ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦" aria-label="Permalink to &quot;ä¸ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦&quot;">â€‹</a></h2><p>æœ‰æ—¶ï¼Œä»…ä»…ä½¿ç”¨æ­£ç¡®çš„æ•°æ®ç±»å‹æ¥åˆå§‹åŒ–useStateå¹¶ä¸è¶³ä»¥é¿å…é—®é¢˜ã€‚ ç‰¹åˆ«æ˜¯å½“æ‚¨å°è¯•è®¿é—®æ·±å±‚åµŒå¥—å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœæŸä¸ªé“¾æ¥å¯¹è±¡æˆ–å±æ€§ä¸å­˜åœ¨ï¼Œå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚</p><p>ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;react&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;App&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">User: </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">profile</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå¦‚æœprofileå±æ€§ä¸å­˜åœ¨ï¼Œå°†ä¼šå¯¼è‡´é¡µé¢å´©æºƒã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰æ¥è®¿é—®åµŒå¥—å±æ€§ï¼Œä»¥é˜²æ­¢é”™è¯¯ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">User: </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">profile</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¯é€‰é“¾æ“ä½œç¬¦ä¼šåœ¨profileå±æ€§ä¸å­˜åœ¨æ—¶å®‰å…¨åœ°å¤„ç†ã€‚</p><h2 id="ä¸æ­£ç¡®ä½¿ç”¨çŠ¶æ€" tabindex="-1">ä¸æ­£ç¡®ä½¿ç”¨çŠ¶æ€ <a class="header-anchor" href="#ä¸æ­£ç¡®ä½¿ç”¨çŠ¶æ€" aria-label="Permalink to &quot;ä¸æ­£ç¡®ä½¿ç”¨çŠ¶æ€&quot;">â€‹</a></h2><p>React ä¾é çŠ¶æ€å˜é‡çš„èº«ä»½ï¼ˆä¹Ÿå°±æ˜¯è¿™é‡Œçš„ useState hooksï¼‰æ¥åˆ¤æ–­çŠ¶æ€ä½•æ—¶å‘ç”Ÿäº†å˜åŒ–ã€‚ å½“æˆ‘ä»¬æŠŠä¸€ä¸ªé¡¹ç›®æ¨åˆ°æ•°ç»„ä¸­æ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šæ”¹å˜è¯¥æ•°ç»„çš„èº«ä»½ï¼Œæ‰€ä»¥ React æ— æ³•åˆ¤æ–­è¿™ä¸ªå€¼å·²ç»æ”¹å˜ã€‚</p><p>ä½¿ç”¨æˆ‘ä»¬çš„è´­ç‰©æ¸…å•ç¤ºä¾‹ã€‚å‡è®¾æˆ‘ä»¬èƒ½å¤Ÿæ·»åŠ æ–°é¡¹ç›®</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// app.js</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> React</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &#39;react&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> ShoppingList</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &#39;./ShoppingList&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> NewItemForm</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &#39;./NewItemForm&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">items</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setItems</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;"> React</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">([</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">		&#39;apple&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">		&#39;banana&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> handleAddItem</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">		items</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">push</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">		setItems</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">items</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">			{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">items</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> &gt;</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">ShoppingList</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> items</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">items</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> /&gt;</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">NewItemForm</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> handleAddItem</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">handleAddItem</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// ShoppingList.js</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> React</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &#39;react&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> ShoppingList</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">items</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">h1</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">Shopping List</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">h1</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">ul</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">items</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">				// NOTE: We shouldn&#39;t use â€œindexâ€ as the key!</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">				// This is covered later in this post ğŸ˜„</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">				return</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">li</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> key</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">index</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">item</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">li</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">			})</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">ul</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> ShoppingList</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// NewItemFrom.js</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> React</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &#39;react&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> NewItemForm</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">handleAddItem</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">value</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setValue</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;"> React</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> onSubmit</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">event</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">			event</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">preventDefault</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">			handleAddItem</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">			setValue</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;&#39;</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">		}</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">/* We&#39;ll touch on this ID stuff later too! */</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">label</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> htmlFor</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;new-item-input&quot;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">Item:</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">label</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> value</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> onChange</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">event</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> setValue</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">event</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">target</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">Add Item</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> NewItemForm</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>æ¯å½“ç”¨æˆ·æäº¤ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼ŒhandleAddItemå‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå®ƒç›®å‰æ— æ³•æ­£å¸¸å·¥ä½œï¼å½“æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªé¡¹ç›®å¹¶æäº¤è¡¨å•æ—¶ï¼Œè¯¥é¡¹ç›®å¹¶æ²¡æœ‰è¢«æ·»åŠ åˆ°è´­ç‰©æ¸…å•ä¸­ã€‚</p><p>é—®é¢˜ å‡ºåœ¨æˆ‘ä»¬è¿åäº†Reactä¸­å¯èƒ½æ˜¯æœ€é‡è¦çš„è§„åˆ™ä¹‹ä¸€ï¼šæˆ‘ä»¬ä¿®æ”¹äº†çŠ¶æ€çš„å€¼ã€‚å…·ä½“æ¥è¯´ï¼Œé—®é¢˜æ˜¯è¿™ä¸€è¡Œï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// app.js</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> handleAddItem</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">	items</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">push</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">	setItems</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">items</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¦‚ä½•ä¿®å¤ï¼š æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„æ•°ç»„ã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„åšæ³•ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>// app.js</span></span>
<span class="line"><span>function handleAddItem(value) {</span></span>
<span class="line"><span>  const nextItems = [...items, value]; // ä¸çŸ¥é“æœ‰äººçœ‹è¿‡æˆ‘ä¹‹å‰çš„æ–‡ç« ä¸ï¼Œè¿™é‡Œä¹Ÿæ˜¯éµå®ˆ react çš„ä¸å¯å˜æ€§åŸåˆ™</span></span>
<span class="line"><span>  setItems(nextItems);</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä¸å…¶ä¿®æ”¹ç°æœ‰çš„æ•°ç»„ï¼Œæˆ‘é€‰æ‹©ä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚è¿™ä¸ªæ–°æ•°ç»„åŒ…å«äº†ä¸åŸæ•°ç»„å®Œå…¨ç›¸åŒçš„æ‰€æœ‰é¡¹ï¼ˆå€ŸåŠ©å±•å¼€è¯­æ³•...ï¼‰ï¼Œä»¥åŠæ–°æ·»åŠ çš„é¡¹ã€‚ è¿™é‡Œçš„åŒºåˆ«åœ¨äºä¿®æ”¹ç°æœ‰é¡¹ä¸åˆ›å»ºæ–°é¡¹ä¹‹é—´çš„å·®å¼‚ã€‚ å½“æˆ‘ä»¬å°†ä¸€ä¸ªå€¼ä¼ é€’ç»™åƒ setCount è¿™æ ·çš„çŠ¶æ€è®¾ç½®å‡½æ•°æ—¶ï¼Œå®ƒéœ€è¦æ˜¯ä¸€ä¸ªæ–°çš„å®ä½“ã€‚å¯¹è±¡ä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>// âŒ Mutates an existing object</span></span>
<span class="line"><span>function handleChangeEmail(nextEmail) {</span></span>
<span class="line"><span>  user.email = nextEmail;</span></span>
<span class="line"><span>  setUser(user);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// âœ… Creates a new object</span></span>
<span class="line"><span>function handleChangeEmail(email) {</span></span>
<span class="line"><span>  const nextUser = { ...user, email: nextEmail };</span></span>
<span class="line"><span>  setUser(nextUser);</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>åŸºæœ¬ä¸Šï¼Œ... è¯­æ³•æ˜¯ä¸€ç§å°†æ•°ç»„/å¯¹è±¡ä¸­çš„æ‰€æœ‰å†…å®¹å¤åˆ¶/ç²˜è´´åˆ°å…¨æ–°å®ä½“ä¸­çš„æ–¹å¼ã€‚è¿™ç¡®ä¿ä¸€åˆ‡æ­£å¸¸è¿ä½œã€‚</p><h3 id="ç›´æ¥æ›´æ–°usestate" tabindex="-1">ç›´æ¥æ›´æ–°useState <a class="header-anchor" href="#ç›´æ¥æ›´æ–°usestate" aria-label="Permalink to &quot;ç›´æ¥æ›´æ–°useState&quot;">â€‹</a></h3><p>ç›´æ¥æ›´æ–°useStateçŠ¶æ€æ˜¯ä¸€ä¸ªå¸¸è§çš„é”™è¯¯ï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šå¯¼è‡´ä¸ReactçŠ¶æ€æ›´æ–°è°ƒåº¦ç›¸å…³çš„é—®é¢˜ã€‚ è™½ç„¶useStateé€šå¸¸ç”¨äºå®šä¹‰çŠ¶æ€å¹¶ä½¿ç”¨setStateå‡½æ•°æ¥ç›´æ¥æ›´æ–°çŠ¶æ€ï¼Œä½†Reactå¹¶ä¸ä¼šç«‹å³æ›´æ–°çŠ¶æ€ï¼Œè€Œæ˜¯å°†çŠ¶æ€æ›´æ–°å®‰æ’åœ¨ç¨åè¿›è¡Œï¼Œä»¥æé«˜æ€§èƒ½ã€‚</p><p>ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;react&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">count</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> increase</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;App&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">span</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">Count: </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">span</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">increase</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">Add +1</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>è™½ç„¶ä¸Šé¢çš„ä»£ç ä¼¼ä¹æœ‰æ•ˆï¼Œä½†é—®é¢˜åœ¨äºReactä¼šåœ¨åå°è°ƒåº¦çŠ¶æ€æ›´æ–°ã€‚è¿™å¯èƒ½å¯¼è‡´ä¸é¢„æœŸä¸ç¬¦çš„è¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šä¸ªç”¨æˆ·åŒæ—¶ä½¿ç”¨åº”ç”¨ç¨‹åºæ—¶ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>ä½¿ç”¨å‡½æ•°æ›´æ–°æ¥ç¡®ä¿è·å–å½“å‰çŠ¶æ€å¹¶åœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œæ›´æ–°ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> increase</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">currentCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> currentCount</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>è¿™æ ·åšå¯ä»¥é¿å…æ½œåœ¨çš„é—®é¢˜ã€‚</p><h3 id="ç›´æ¥æ›´æ–°ç‰¹å®šå¯¹è±¡å±æ€§" tabindex="-1">ç›´æ¥æ›´æ–°ç‰¹å®šå¯¹è±¡å±æ€§ <a class="header-anchor" href="#ç›´æ¥æ›´æ–°ç‰¹å®šå¯¹è±¡å±æ€§" aria-label="Permalink to &quot;ç›´æ¥æ›´æ–°ç‰¹å®šå¯¹è±¡å±æ€§&quot;">â€‹</a></h3><p>å¦ä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯å°è¯•ç›´æ¥æ›´æ–°å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå¯¹è±¡å¼•ç”¨ã€‚ è¿™å¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ªå¯¹è±¡è¢«æ›¿æ¢ï¼Œè€Œä¸ä»…ä»…æ˜¯æ›´æ–°ç‰¹å®šå±æ€§ã€‚</p><p>ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;react&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">		name</span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;John&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">		age</span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 25</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> changeName</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">		setUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;Mark&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;App&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">User: </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">p</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼ŒchangeNameå‡½æ•°è¯•å›¾ç›´æ¥æ›´æ–°userå¯¹è±¡çš„nameå±æ€§ï¼Œä½†å®é™…ä¸Šå®ƒå°†æ•´ä¸ªå¯¹è±¡æ›¿æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>ä½¿ç”¨ES6æ‰©å±•æ“ä½œç¬¦æ¥æ›´æ–°å¯¹è±¡çš„ç‰¹å®šå±æ€§ï¼Œä»¥ä¿æŒå…¶ä»–å±æ€§ä¸å˜ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> changeName</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">	setUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> ({ ...</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;Mark&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> }));</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="ç®¡ç†è¡¨å•ä¸­çš„å¤šä¸ªè¾“å…¥å­—æ®µ" tabindex="-1">ç®¡ç†è¡¨å•ä¸­çš„å¤šä¸ªè¾“å…¥å­—æ®µ <a class="header-anchor" href="#ç®¡ç†è¡¨å•ä¸­çš„å¤šä¸ªè¾“å…¥å­—æ®µ" aria-label="Permalink to &quot;ç®¡ç†è¡¨å•ä¸­çš„å¤šä¸ªè¾“å…¥å­—æ®µ&quot;">â€‹</a></h2><p>åœ¨å¤„ç†è¡¨å•ä¸­çš„å¤šä¸ªå—æ§è¾“å…¥å­—æ®µæ—¶ï¼Œé€šå¸¸éœ€è¦ä¸ºæ¯ä¸ªå­—æ®µåˆ›å»ºå•ç‹¬çš„useStateå‡½æ•°å’Œç›¸åº”çš„å¤„ç†å‡½æ•°ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†—ä½™çš„ä»£ç ã€‚</p><p>ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;react&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">firstName</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setFirstName</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">lastName</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setLastName</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">age</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setAge</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;App&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;text&#39;</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> placeholder</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;First Name&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;text&#39;</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> placeholder</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;Last Name&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;number&#39;</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> placeholder</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;Age&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œä¸ºæ¯ä¸ªè¾“å…¥å­—æ®µéƒ½åˆ›å»ºäº†ä¸€ä¸ªuseStateï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†—ä½™çš„ä»£ç ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>ä½¿ç”¨ä¸€ä¸ªuseStateæ¥ç®¡ç†è¡¨å•ä¸­çš„å¤šä¸ªè¾“å…¥å­—æ®µï¼Œç»™æ¯ä¸ªè¾“å…¥å­—æ®µä¸€ä¸ªå”¯ä¸€çš„åç§°ï¼Œç„¶åä½¿ç”¨äº‹ä»¶å¤„ç†å‡½æ•°æ¥æ›´æ–°ç›¸åº”å±æ€§çš„å€¼ï¼Œä»è€Œå‡å°‘ä»£ç å†—ä½™ã€‚ ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;react&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">		firstName</span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">		lastName</span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">		age</span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> handleChange</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">		const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">name</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">value</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;"> e</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">target</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">		setUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">prevUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> ({ ...</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">prevUser</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#001080;--shiki-dark:#ABB2BF;">]:</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> }));</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;App&#39;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">input</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					type</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;text&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					name</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;firstName&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					placeholder</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;First Name&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					value</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">firstName</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					onChange</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">handleChange</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				/&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">input</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					type</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;text&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					name</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;lastName&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					placeholder</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;Last Name&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					value</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">lastName</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					onChange</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">handleChange</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				/&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">input</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					type</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;number&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					name</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;age&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					placeholder</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&#39;Age&#39;</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					value</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">age</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">					onChange</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">handleChange</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">				/&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œåªä½¿ç”¨äº†ä¸€ä¸ªuseStateï¼Œå¹¶é€šè¿‡äº‹ä»¶å¤„ç†å‡½æ•°handleChangeæ¥æ›´æ–°ä¸åŒå­—æ®µçš„å€¼ã€‚è¿™ç§æ–¹å¼æ›´åŠ å¹²å‡€å’Œé«˜æ•ˆã€‚</p><h2 id="çŠ¶æ€çš„å»¶è¿Ÿåˆå§‹åŒ–" tabindex="-1">çŠ¶æ€çš„å»¶è¿Ÿåˆå§‹åŒ– <a class="header-anchor" href="#çŠ¶æ€çš„å»¶è¿Ÿåˆå§‹åŒ–" aria-label="Permalink to &quot;çŠ¶æ€çš„å»¶è¿Ÿåˆå§‹åŒ–&quot;">â€‹</a></h2><p>æ¯å½“ React é‡æ–°æ¸²æŸ“ç»„ä»¶æ—¶ï¼Œéƒ½ä¼šæ‰§è¡ŒuseState(initialState)ã€‚ å¦‚æœåˆå§‹çŠ¶æ€æ˜¯åŸå§‹å€¼ï¼ˆæ•°å­—ï¼Œå¸ƒå°”å€¼ç­‰ï¼‰ï¼Œåˆ™ä¸ä¼šæœ‰æ€§èƒ½é—®é¢˜ã€‚</p><p>å½“åˆå§‹çŠ¶æ€éœ€è¦æ˜‚è´µçš„æ€§èƒ½æ–¹é¢çš„æ“ä½œæ—¶ï¼Œå¯ä»¥é€šè¿‡ä¸ºuseState(computeInitialState)æä¾›ä¸€ä¸ªå‡½æ•°æ¥ä½¿ç”¨çŠ¶æ€çš„å»¶è¿Ÿåˆå§‹åŒ–ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> MyComponent</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">bigJsonData</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">value</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setValue</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> getInitialState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">		const</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;"> object</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;"> JSON</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">bigJsonData</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// expensive operation</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">		return</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;"> object</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">initialValue</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">	// ...</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>getInitialState()ä»…åœ¨åˆå§‹æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œä»¥è·å¾—åˆå§‹çŠ¶æ€ã€‚åœ¨ä»¥åçš„ç»„ä»¶æ¸²æŸ“ä¸­ï¼Œä¸ä¼šå†è°ƒç”¨getInitialState()ï¼Œä»è€Œè·³è¿‡æ˜‚è´µçš„æ“ä½œã€‚</p><h2 id="è¿‡æ—¶çŠ¶æ€" tabindex="-1">è¿‡æ—¶çŠ¶æ€ <a class="header-anchor" href="#è¿‡æ—¶çŠ¶æ€" aria-label="Permalink to &quot;è¿‡æ—¶çŠ¶æ€&quot;">â€‹</a></h2><p>é—­åŒ…æ˜¯ä¸€ä¸ªä»å¤–éƒ¨ä½œç”¨åŸŸæ•è·å˜é‡çš„å‡½æ•°ã€‚ å½“é—­åŒ…æ•è·è¿‡æ—¶çš„çŠ¶æ€å˜é‡æ—¶ï¼Œå°±ä¼šå‡ºç°è¿‡æ—¶çŠ¶æ€çš„é—®é¢˜ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸€ä¸ªå›è°ƒæ¥æ›´æ–°çŠ¶æ€æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªå›è°ƒä¼šæ ¹æ®å…ˆå‰çš„çŠ¶æ€æ¥è®¡ç®—æ–°çš„çŠ¶æ€ã€‚</p><p>é—­åŒ…ï¼ˆä¾‹å¦‚äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå›è°ƒï¼‰å¯èƒ½ä¼šä»å‡½æ•°ç»„ä»¶ä½œç”¨åŸŸä¸­æ•è·çŠ¶æ€å˜é‡ã€‚ ç”±äºçŠ¶æ€å˜é‡åœ¨æ¸²æŸ“ä¹‹é—´å˜åŒ–ï¼Œå› æ­¤é—­åŒ…åº”æ•è·å…·æœ‰æœ€æ–°çŠ¶æ€å€¼çš„å˜é‡ã€‚ å¦åˆ™ï¼Œå¦‚æœé—­åŒ…æ•è·äº†è¿‡æ—¶çš„çŠ¶æ€å€¼ï¼Œåˆ™å¯èƒ½ä¼šé‡åˆ°è¿‡æ—¶çš„çŠ¶æ€é—®é¢˜ã€‚</p><p>æ¥çœ‹çœ‹ä¸€ä¸ªè¿‡æ—¶çš„çŠ¶æ€æ˜¯å¦‚ä½•è¡¨ç°å‡ºæ¥çš„ã€‚ç»„ä»¶<code>&lt;DelayedCount&gt;</code>å»¶è¿Ÿ3ç§’è®¡æ•°æŒ‰é’®ç‚¹å‡»çš„æ¬¡æ•°ã€‚</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> DelayedCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">count</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> handleClickAsync</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">		setTimeout</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> delay</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">			setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">		}, </span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;">3000</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">			{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">handleClickAsync</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">Increase async</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>å¿«é€Ÿå¤šæ¬¡ç‚¹å‡»æŒ‰é’®ã€‚count å˜é‡ä¸èƒ½æ­£ç¡®è®°å½•å®é™…ç‚¹å‡»æ¬¡æ•°ï¼Œæœ‰äº›ç‚¹å‡»è¢«åƒæ‰ã€‚ delay() æ˜¯ä¸€ä¸ªè¿‡æ—¶çš„é—­åŒ…ï¼Œå®ƒä»åˆå§‹æ¸²æŸ“ï¼ˆä½¿ç”¨0åˆå§‹åŒ–æ—¶ï¼‰ä¸­æ•è·äº†è¿‡æ—¶çš„countå˜é‡ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨å‡½æ•°æ–¹æ³•æ¥æ›´æ–°countçŠ¶æ€ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> DelayedCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">count</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> handleClickAsync</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">		setTimeout</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> delay</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">			setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">count</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">		}, </span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;">3000</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">			{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">			&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">handleClickAsync</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">Increase async</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ç°åœ¨setCount(count =&gt; count + 1)åœ¨delay()ä¸­æ­£ç¡®æ›´æ–°è®¡æ•°çŠ¶æ€ã€‚React ç¡®ä¿å°†æœ€æ–°çŠ¶æ€å€¼ä½œä¸ºå‚æ•°æä¾›ç»™æ›´æ–°çŠ¶æ€å‡½æ•°ï¼Œè¿‡æ—¶é—­åŒ…çš„é—®é¢˜è§£å†³äº†ã€‚ å¿«é€Ÿå•å‡»æŒ‰é’®ã€‚ å»¶è¿Ÿè¿‡å»åï¼Œcount èƒ½æ­£ç¡®è¡¨ç¤ºç‚¹å‡»æ¬¡æ•°ã€‚</p><h2 id="å¤æ‚çŠ¶æ€ç®¡ç†" tabindex="-1">å¤æ‚çŠ¶æ€ç®¡ç† <a class="header-anchor" href="#å¤æ‚çŠ¶æ€ç®¡ç†" aria-label="Permalink to &quot;å¤æ‚çŠ¶æ€ç®¡ç†&quot;">â€‹</a></h2><p>useState()ç”¨äºç®¡ç†ç®€å•çŠ¶æ€ã€‚å¯¹äºå¤æ‚çš„çŠ¶æ€ç®¡ç†ï¼Œå¯ä»¥ä½¿ç”¨useReducer() hookã€‚å®ƒä¸ºéœ€è¦å¤šä¸ªçŠ¶æ€æ“ä½œçš„çŠ¶æ€æä¾›äº†æ›´å¥½çš„æ”¯æŒã€‚</p><p>å‡è®¾éœ€è¦ç¼–å†™ä¸€ä¸ªæœ€å–œæ¬¢çš„ç”µå½±åˆ—è¡¨ã€‚ç”¨æˆ·å¯ä»¥æ·»åŠ ç”µå½±ï¼Œä¹Ÿå¯ä»¥åˆ é™¤å·²æœ‰çš„ç”µå½±ï¼Œå®ç°æ–¹å¼å¤§è‡´å¦‚ä¸‹ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>import React, { useState } from &#39;react&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function FavoriteMovies() {</span></span>
<span class="line"><span>	const [movies, setMovies] = useState([{ name: &#39;Heat&#39; }]);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	const add = movie =&gt; setMovies([...movies, movie]);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	const remove = index =&gt; {</span></span>
<span class="line"><span>		setMovies([</span></span>
<span class="line"><span>			...movies.slice(0, index),</span></span>
<span class="line"><span>			...movies.slice(index + 1)</span></span>
<span class="line"><span>		]);</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	return (</span></span>
<span class="line"><span>		// Use add(movie) and remove(index)...</span></span>
<span class="line"><span>	);</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>çŠ¶æ€åˆ—è¡¨éœ€è¦å‡ ä¸ªæ“ä½œ:æ·»åŠ å’Œåˆ é™¤ç”µå½±ï¼ŒçŠ¶æ€ç®¡ç†ç»†èŠ‚ä½¿ç»„ä»¶æ··ä¹±ã€‚</p><p>æ›´å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯å°†å¤æ‚çš„çŠ¶æ€ç®¡ç†æå–åˆ°reducerä¸­ï¼š</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>import React, { useReducer } from &#39;react&#39;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function reducer(state, action) {</span></span>
<span class="line"><span>	switch (action.type) {</span></span>
<span class="line"><span>		case &#39;add&#39;:</span></span>
<span class="line"><span>			return [...state, action.item];</span></span>
<span class="line"><span>		case &#39;remove&#39;:</span></span>
<span class="line"><span>			return [</span></span>
<span class="line"><span>				...state.slice(0, action.index),</span></span>
<span class="line"><span>				...state.slice(action.index + 1)</span></span>
<span class="line"><span>			];</span></span>
<span class="line"><span>		default:</span></span>
<span class="line"><span>			throw new Error();</span></span>
<span class="line"><span>	}</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>function FavoriteMovies() {</span></span>
<span class="line"><span>	const [state, dispatch] = useReducer(reducer, [{ name: &#39;Heat&#39; }]);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>	return (</span></span>
<span class="line"><span>		// Use dispatch({ type: &#39;add&#39;, item: movie })</span></span>
<span class="line"><span>		// and dispatch({ type: &#39;remove&#39;, index })...</span></span>
<span class="line"><span>	);</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>reducerç®¡ç†ç”µå½±çš„çŠ¶æ€ï¼Œæœ‰ä¸¤ç§æ“ä½œç±»å‹ï¼š</p><p>&quot;add&quot;å°†æ–°ç”µå½±æ’å…¥åˆ—è¡¨</p><p>&quot;remove&quot;ä»åˆ—è¡¨ä¸­æŒ‰ç´¢å¼•åˆ é™¤ç”µå½±</p><p>æ³¨æ„ç»„ä»¶åŠŸèƒ½æ²¡æœ‰æ”¹å˜ã€‚ä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬çš„<code>&lt;FavoriteMovies&gt;</code>æ›´å®¹æ˜“ç†è§£ï¼Œå› ä¸ºçŠ¶æ€ç®¡ç†å·²ç»è¢«æå–åˆ°reducerä¸­ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªå¥½å¤„:å¯ä»¥å°†reducer æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—ä¸­ï¼Œå¹¶åœ¨å…¶ä»–ç»„ä»¶ä¸­é‡ç”¨å®ƒã€‚ å¦å¤–ï¼Œå³ä½¿æ²¡æœ‰ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥å¯¹reducer è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</p><p>è¿™å°±æ˜¯<strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>çš„å¨åŠ›:ç»„ä»¶æ¸²æŸ“UIå¹¶å“åº”äº‹ä»¶ï¼Œè€Œreducer æ‰§è¡ŒçŠ¶æ€æ“ä½œã€‚</p><h2 id="åœ¨ä¿®æ”¹çŠ¶æ€åè®¿é—®å®ƒ" tabindex="-1">åœ¨ä¿®æ”¹çŠ¶æ€åè®¿é—®å®ƒ <a class="header-anchor" href="#åœ¨ä¿®æ”¹çŠ¶æ€åè®¿é—®å®ƒ" aria-label="Permalink to &quot;åœ¨ä¿®æ”¹çŠ¶æ€åè®¿é—®å®ƒ&quot;">â€‹</a></h2><p>è¿™ä¸ªé—®é¢˜åœ¨æŸä¸ªæ—¶åˆ»éƒ½ä¼šè®©äººæªæ‰‹ä¸åŠã€‚ åœ¨æˆ‘åœ¨ä¸€å®¶æœ¬åœ°ç¼–ç¨‹è®­ç»ƒè¥æ•™æˆæ—¶ï¼Œæˆ‘å·²ç»è®°ä¸æ¸…æœ‰å¤šå°‘æ¬¡æœ‰äººå› ä¸ºè¿™ä¸ªé—®é¢˜å‘æˆ‘æ±‚åŠ©äº†ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„è®¡æ•°å™¨åº”ç”¨ç¨‹åºï¼šç‚¹å‡»æŒ‰é’®ä¼šå¢åŠ è®¡æ•°ã€‚çœ‹çœ‹ä½ èƒ½å¦å‘ç°é—®é¢˜æ‰€åœ¨ï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> React</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &#39;react&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">count</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;"> React</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> handleClick</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">		setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">		console</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> });</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">handleClick</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">			{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">		&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">	);</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;"> default</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> App</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>åœ¨å¢åŠ è®¡æ•°çŠ¶æ€å˜é‡åï¼Œæˆ‘ä»¬å°†å…¶å€¼è®°å½•åˆ°æ§åˆ¶å°ã€‚ä»¤äººå¥‡æ€ªçš„æ˜¯ï¼Œå®ƒè®°å½•äº†é”™è¯¯çš„å€¼ï¼š <img src="`+d+`" alt=""> é—®é¢˜å‡ºåœ¨è¿™é‡Œï¼šReact ä¸­çš„çŠ¶æ€è®¾ç½®å‡½æ•°ï¼ˆä¾‹å¦‚ setCountï¼‰æ˜¯å¼‚æ­¥çš„ã€‚ è¿™æ˜¯æœ‰é—®é¢˜çš„ä»£ç æ˜¯è¿™é‡Œï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> handleClick</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">	setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">	console</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> });</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¾ˆå®¹æ˜“é”™è¯¯åœ°è®¤ä¸º setCount å‡½æ•°ç±»ä¼¼äºèµ‹å€¼ï¼Œå¥½åƒè¿™æ ·åšæ˜¯ç­‰åŒäºè¿™æ ·çš„æ“ä½œï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">count</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ç„¶è€Œï¼ŒReact å¹¶ä¸æ˜¯è¿™æ ·æ„å»ºçš„ã€‚å½“æˆ‘ä»¬è°ƒç”¨ setCount æ—¶ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰é‡æ–°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œè€Œæ˜¯å®‰æ’äº†ä¸€ä¸ªæ›´æ–°æ“ä½œã€‚</p><p>å¯¹äºæˆ‘ä»¬å®Œå…¨ç†è§£è¿™ä¸ªæ¦‚å¿µå¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œä½†ä¸‹é¢çš„è§£é‡Šæˆ–è®¸æœ‰åŠ©äºæ›´å¥½åœ°ç†è§£ï¼šæˆ‘ä»¬æ— æ³•é‡æ–°èµ‹å€¼ç»™ count å˜é‡ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¸¸é‡ï¼</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>// Uses \`const\`, not \`let\`, and so it can&#39;t be reassigned</span></span>
<span class="line"><span>const [count, setCount] = React.useState(0);</span></span>
<span class="line"><span>count = count + 1; // Uncaught TypeError:</span></span>
<span class="line"><span>									 // Assignment to constant variable</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•ä¿®å¤è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“è¿™ä¸ªå€¼åº”è¯¥æ˜¯ä»€ä¹ˆã€‚æˆ‘ä»¬éœ€è¦å°†å®ƒå­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥è®¿é—®å®ƒï¼š</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> handleClick</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">() { </span><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// å†æ¬¡éªŒè¯ä¸å¯å˜æ€§é‡è¦æ€§ï¼Œä½¿ç”¨æ–°çš„å˜é‡è®°å½•æœ€æ–°çš„çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;"> nextCount</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">	setCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">nextCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">	// Use \`nextCount\` whenever we want</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">	// to reference the new value:</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">	console</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">nextCount</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> });</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æˆ‘å–œæ¬¢åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨â€œnextâ€å‰ç¼€ï¼ˆæ¯”å¦‚nextCountã€nextItemsã€nextEmailç­‰ï¼‰ã€‚è¿™æ ·å¯¹æˆ‘æ¥è¯´æ›´æ¸…æ™°ï¼Œæˆ‘ä»¬ä¸æ˜¯æ›´æ–°å½“å‰å€¼ï¼Œè€Œæ˜¯å®‰æ’ä¸‹ä¸€ä¸ªå€¼ã€‚</p><h2 id="sesetstate-ç®¡ç†-object-ç±»å‹-state-çš„-hooks-ç”¨æ³•ä¸-class-ç»„ä»¶çš„-this-setstate-åŸºæœ¬ä¸€è‡´ã€‚" tabindex="-1">seSetStateï¼šç®¡ç† object ç±»å‹ state çš„ Hooksï¼Œç”¨æ³•ä¸ class ç»„ä»¶çš„ this.setState åŸºæœ¬ä¸€è‡´ã€‚ <a class="header-anchor" href="#sesetstate-ç®¡ç†-object-ç±»å‹-state-çš„-hooks-ç”¨æ³•ä¸-class-ç»„ä»¶çš„-this-setstate-åŸºæœ¬ä¸€è‡´ã€‚" aria-label="Permalink to &quot;seSetStateï¼šç®¡ç† object ç±»å‹ state çš„ Hooksï¼Œç”¨æ³•ä¸ class ç»„ä»¶çš„ this.setState åŸºæœ¬ä¸€è‡´ã€‚&quot;">â€‹</a></h2><p>ahooks é‡Œçš„ hook ä½¿ç”¨ useSetStateå¯ä»¥æ˜¾è‘—å‡å°‘ç»„ä»¶æ›´æ–°æ¬¡æ•°ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šæœ‰æŸä¸€å—å†…å®¹éœ€è¦å¤šä¸ªçŠ¶æ€æ§åˆ¶çš„åœºæ™¯ï¼Œæ¯”å¦‚æ‰“å¼€ä¸€ä¸ªå¼¹æ¡†çš„æ—¶å€™ï¼Œä¸€èˆ¬éœ€è¦æ§åˆ¶å…¶æ‰“å¼€ä¸å…³é—­çš„çŠ¶æ€ï¼Œä»¥åŠå­˜å‚¨çš„æ•°æ®ï¼Œç”šè‡³é¡µé¢æˆ–æŒ‰é’® loading çš„çŠ¶æ€ï¼Œè¿™æ ·ä¸€ä¸ªå¼¹æ¡†å°±éœ€è¦ 3-4 ä¸ªuseStateæ¥è¿›è¡Œæ§åˆ¶ï¼Œéšç€é¡µé¢è¶Šæ¥è¶Šå¤æ‚ï¼ŒåæœŸ state è¶Šå¤šä¾¿è¶Šä¸å¥½ç»´æŠ¤ï¼Œæˆ‘å°±æ›¾è§è¿‡ä¸€ä¸ªå…³é—­å¼¹æ¡†çš„å›è°ƒå‡½æ•°é‡Œï¼Œä½¿ç”¨äº†4ä¸ª useStateï¼Œå¯æƒ³è€ŒçŸ¥ï¼Œå…³é—­ä¸€æ¬¡å¼¹æ¡†æ•´ä¸ªå‡½æ•°ç»„ä»¶å°±éœ€è¦æ‰§è¡Œ 4 éï¼Œè¿™ç§çº§åˆ«çš„ state å†™åœ¨ Redux å½“ä¸­æ˜¾ç„¶åˆä¸åˆé€‚ï¼Œ è€Œä½¿ç”¨ useSetStateå°±å¯ä»¥è½»æ¾è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†æœ‰å…³äºå¼¹æ¡†çš„çŠ¶æ€å†™å…¥ä¸€èµ·è¿›è¡Œç»´æŠ¤ï¼Œåœ¨å…³é—­æ—¶ä¸€èµ·å°†çŠ¶æ€è¿›è¡Œæ”¹å˜ï¼Œä¼˜é›…åˆå…·å¤‡æ›´é«˜çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><h2 id="useimmer-ä¹Ÿæ˜¯æˆ‘ç»å¸¸ä½¿ç”¨çš„-hook-ä¹‹ä¸€-å¯¹äºå¤æ‚æ•°æ®çš„ç²¾ç»†åŒ–æ›´æ–°éå¸¸å‹å¥½-ä¸ªäººå»ºè®®æ•°æ®åªæœ‰ä¸€å±‚å¯ä»¥ä½¿ç”¨-usesetstate-å±‚çº§è¾ƒå¤šå¯ä»¥ä½¿ç”¨-useimmerã€‚" tabindex="-1">useImmerï¼šä¹Ÿæ˜¯æˆ‘ç»å¸¸ä½¿ç”¨çš„ hook ä¹‹ä¸€ï¼Œå¯¹äºå¤æ‚æ•°æ®çš„ç²¾ç»†åŒ–æ›´æ–°éå¸¸å‹å¥½ï¼Œä¸ªäººå»ºè®®æ•°æ®åªæœ‰ä¸€å±‚å¯ä»¥ä½¿ç”¨ useSetStateï¼Œå±‚çº§è¾ƒå¤šå¯ä»¥ä½¿ç”¨ useImmerã€‚ <a class="header-anchor" href="#useimmer-ä¹Ÿæ˜¯æˆ‘ç»å¸¸ä½¿ç”¨çš„-hook-ä¹‹ä¸€-å¯¹äºå¤æ‚æ•°æ®çš„ç²¾ç»†åŒ–æ›´æ–°éå¸¸å‹å¥½-ä¸ªäººå»ºè®®æ•°æ®åªæœ‰ä¸€å±‚å¯ä»¥ä½¿ç”¨-usesetstate-å±‚çº§è¾ƒå¤šå¯ä»¥ä½¿ç”¨-useimmerã€‚" aria-label="Permalink to &quot;useImmerï¼šä¹Ÿæ˜¯æˆ‘ç»å¸¸ä½¿ç”¨çš„ hook ä¹‹ä¸€ï¼Œå¯¹äºå¤æ‚æ•°æ®çš„ç²¾ç»†åŒ–æ›´æ–°éå¸¸å‹å¥½ï¼Œä¸ªäººå»ºè®®æ•°æ®åªæœ‰ä¸€å±‚å¯ä»¥ä½¿ç”¨ useSetStateï¼Œå±‚çº§è¾ƒå¤šå¯ä»¥ä½¿ç”¨ useImmerã€‚&quot;">â€‹</a></h2><h2 id="react-åœ¨æŸä¸ªæ„ä¹‰ä¸Šè¯´ä¸€ä¸ªçŠ¶æ€æœº-æ¯æ¬¡-render-æ‰€å®šä¹‰çš„å˜é‡ä¼šé‡æ–°å£°æ˜ã€‚" tabindex="-1">React åœ¨æŸä¸ªæ„ä¹‰ä¸Šè¯´ä¸€ä¸ªçŠ¶æ€æœºï¼Œæ¯æ¬¡ render æ‰€å®šä¹‰çš„å˜é‡ä¼šé‡æ–°å£°æ˜ã€‚ <a class="header-anchor" href="#react-åœ¨æŸä¸ªæ„ä¹‰ä¸Šè¯´ä¸€ä¸ªçŠ¶æ€æœº-æ¯æ¬¡-render-æ‰€å®šä¹‰çš„å˜é‡ä¼šé‡æ–°å£°æ˜ã€‚" aria-label="Permalink to &quot;React åœ¨æŸä¸ªæ„ä¹‰ä¸Šè¯´ä¸€ä¸ªçŠ¶æ€æœºï¼Œæ¯æ¬¡ render æ‰€å®šä¹‰çš„å˜é‡ä¼šé‡æ–°å£°æ˜ã€‚&quot;">â€‹</a></h2><p>Context é™·é˜±</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> ThemeProvider</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">props</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">theme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">switchTheme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">redTheme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">	// è¿™é‡Œæ¯ä¸€æ¬¡æ¸²æŸ“ ThemeProvider, éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ value ä»è€Œå¯¼è‡´å¼ºåˆ¶æ¸²æŸ“æ‰€æœ‰ä½¿ç”¨è¯¥ Context çš„ç»„ä»¶</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">Context.Provider</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> value</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">{ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">theme</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">switchTheme</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;"> }</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">props</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">Context.Provider</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æ‰€ä»¥ä¼ é€’ç»™ Context çš„ value åšä¸€ä¸‹è®°å¿†ç¼“å­˜:</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> ThemeProvider</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">props</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">theme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;">switchTheme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;"> useState</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">redTheme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">	const</span><span style="--shiki-light:#0070C1;--shiki-dark:#E5C07B;"> value</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;"> React</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">useMemo</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> ({ </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">theme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">switchTheme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> }), [</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">theme</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C678DD;">	return</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">Context.Provider</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> value</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#001080;--shiki-dark:#E5C07B;">props</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#001080;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">Context.Provider</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>render props é™·é˜± render æ–¹æ³•é‡Œåˆ›å»ºå‡½æ•°ï¼Œé‚£ä¹ˆä½¿ç”¨ render props ä¼šæŠµæ¶ˆä½¿ç”¨ React.memo å¸¦æ¥çš„ä¼˜åŠ¿ã€‚ å› ä¸ºæµ…æ¯”è¾ƒ props çš„æ—¶å€™æ€»ä¼šå¾—åˆ° falseï¼Œå¹¶ä¸”åœ¨è¿™ç§æƒ…å†µä¸‹æ¯ä¸€ä¸ª render å¯¹äº render props å°†ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„å€¼ã€‚</p><div class="language-tsx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#267F99;--shiki-dark:#E5C07B;">CustomComponent</span><span style="--shiki-light:#E50000;--shiki-dark:#D19A66;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> renderFooter</span><span style="--shiki-light:#000000;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">em</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#000000FF;--shiki-dark:#ABB2BF;">Footer</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#800000;--shiki-dark:#E06C75;">em</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0000FF;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#800000;--shiki-dark:#ABB2BF;"> /&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å¯ä»¥ä½¿ç”¨ useMethods ä»£æ›¿ï¼š github.com/MinJieLiu/heo/blob/main/src/useMethods.tsx</p><h2 id="contributors" tabindex="-1">Contributors <a class="header-anchor" href="#contributors" aria-label="Permalink to &quot;Contributors&quot;">â€‹</a></h2>`,132);function g(y,u,o,b,F,m){const i=l,a=p,n=t;return r(),h("div",null,[c,s(i,{readTime:"17",words:"4.6k"}),s(a),s(n)])}const v=e(B,[["render",g]]);export{E as __pageData,v as default};
