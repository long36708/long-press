import{_ as t,a as r,b as i}from"./chunks/PageInfo.vue_vue_type_script_setup_true_lang.BCVHfIj7.js";import{_ as l,c as p,I as a,a7 as o,o as c}from"./chunks/framework.DGCt2JJv.js";import"./chunks/dayjs.min.DZyl58SH.js";const P=JSON.parse('{"title":"分支开发规范","description":"","frontmatter":{},"headers":[],"relativePath":"standard/Git分支开发规范.md","filePath":"standard/Git分支开发规范.md","lastUpdated":1708753626000}'),h={name:"standard/Git分支开发规范.md"},m=o(`<h1 id="分支开发规范" tabindex="-1">分支开发规范 <a class="header-anchor" href="#分支开发规范" aria-label="Permalink to &quot;分支开发规范&quot;">​</a></h1><h2 id="master分支" tabindex="-1">master分支 <a class="header-anchor" href="#master分支" aria-label="Permalink to &quot;master分支&quot;">​</a></h2><p>大部分项目都不要直接在master下直接开发 master分支需要确保是完全同步线上的状态， 任何时间点打包master分支都可以直接上线</p><h2 id="分支创建规范" tabindex="-1">分支创建规范 <a class="header-anchor" href="#分支创建规范" aria-label="Permalink to &quot;分支创建规范&quot;">​</a></h2><p>feature/xxx: 新需求，功能性开发 hotfix/xxx: bug修复</p><h2 id="分支生命周期" tabindex="-1">分支生命周期 <a class="header-anchor" href="#分支生命周期" aria-label="Permalink to &quot;分支生命周期&quot;">​</a></h2><p>分支上线前merge master, 上线后第一时间将分支合并入master 分支开发完成并合入master之后, 说明该分支生命周期已经完结，请删除分支</p><h2 id="关于删除分支" tabindex="-1">关于删除分支 <a class="header-anchor" href="#关于删除分支" aria-label="Permalink to &quot;关于删除分支&quot;">​</a></h2><ul><li>方法一： gitlab中删除</li><li>方法二： 命令行执行git push origin --delete [branch_name]</li></ul><h2 id="s分支删除后本地查看仍然可以看到" tabindex="-1">s分支删除后本地查看仍然可以看到 <a class="header-anchor" href="#s分支删除后本地查看仍然可以看到" aria-label="Permalink to &quot;s分支删除后本地查看仍然可以看到&quot;">​</a></h2><ul><li>方法一： sourcetree pull/fetch操作时有个选项，勾选同步远程分支</li><li>方法二： 命令行执行git remote prune origin</li><li>方法三: 任意分支下执行git pull -p</li></ul><h2 id="semver版本管理" tabindex="-1">semver版本管理 <a class="header-anchor" href="#semver版本管理" aria-label="Permalink to &quot;semver版本管理&quot;">​</a></h2><p>a.b.c</p><p>a: 主版本号 b: 次版本号 c: 修订号</p><h2 id="使用npm-version-cli管理npm包版本" tabindex="-1">使用npm version cli管理npm包版本 <a class="header-anchor" href="#使用npm-version-cli管理npm包版本" aria-label="Permalink to &quot;使用npm version cli管理npm包版本&quot;">​</a></h2><p>npm version [majoir|minor|patch]</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span># 当前版本 1.2.3</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 升级主版本号 1.2.3 -&gt; 2.0.0</span></span>
<span class="line"><span># 主版本号代表不兼容以前版本的改动</span></span>
<span class="line"><span>npm version major</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 升级次版本号 1.2.3 -&gt; 1.3.0</span></span>
<span class="line"><span># 次版本号代表兼容性的新特性添加</span></span>
<span class="line"><span>npm version minor</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 升级修订号 1.2.3 -&gt; 1.2.4</span></span>
<span class="line"><span># 修订号代表修复上一版的bug</span></span>
<span class="line"><span>npm version patch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="流程" tabindex="-1">流程 <a class="header-anchor" href="#流程" aria-label="Permalink to &quot;流程&quot;">​</a></h2><ol><li>npm包的修改迭代，并commit/push</li><li>使用npm version改动版本</li><li>git push</li><li>git push --tags</li><li>调用方更改依赖版本</li></ol><h2 id="内部依赖使用-git-http或git-ssh" tabindex="-1">内部依赖使用(git+http或git+ssh) <a class="header-anchor" href="#内部依赖使用-git-http或git-ssh" aria-label="Permalink to &quot;内部依赖使用(git+http或git+ssh)&quot;">​</a></h2><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>&quot;dependencies&quot;: {</span></span>
<span class="line"><span>  &quot;href&quot;: &quot;git+http://git.taoche.com/npm/href.git#v1.0.0&quot;,</span></span>
<span class="line"><span>  &quot;tc&quot;: &quot;git+ssh://git@git.taoche.com/npm/tc.git#v0.1.14&quot;,</span></span>
<span class="line"><span>  ...</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">注意</p><p>务必要加#版本号，指定版本，否则会拉取最新版本</p></div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><p>semver: <a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noreferrer">https://semver.org/lang/zh-CN/</a></p><h1 id="git工作流" tabindex="-1">git工作流 <a class="header-anchor" href="#git工作流" aria-label="Permalink to &quot;git工作流&quot;">​</a></h1><h2 id="工作流" tabindex="-1">工作流 <a class="header-anchor" href="#工作流" aria-label="Permalink to &quot;工作流&quot;">​</a></h2><p>基于gitflow, 简化版本</p><p>参考文档: <a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="noreferrer">http://nvie.com/posts/a-successful-git-branching-model/</a></p><p>区别： 不设release, develop分支， 暂不打tag， 保留master, feature/<em>, hotfix/</em></p><h2 id="项目" tabindex="-1">项目 <a class="header-anchor" href="#项目" aria-label="Permalink to &quot;项目&quot;">​</a></h2><p>feprogram/taoche等项目锁定master, 不允许直接在master下改动，需要提交merge request进行review</p><p>act等项目进行敏捷开发, 不锁定master, 分支自行管理</p><p>crm等项目设立develop分支，特性分支开发完成后合并入develop, master分支从develop单向merge</p><h2 id="工作流程" tabindex="-1">工作流程 <a class="header-anchor" href="#工作流程" aria-label="Permalink to &quot;工作流程&quot;">​</a></h2><p>基于最新master建立分支，功能分支feature/xxx 或 线上bug修复分支 hotfix/xxx 在分支下开发 开发完成， merge master到当前分支，release灰度/上线。</p><h2 id="contributors" tabindex="-1">Contributors <a class="header-anchor" href="#contributors" aria-label="Permalink to &quot;Contributors&quot;">​</a></h2>`,36);function d(u,b,g,_,f,q){const s=t,e=r,n=i;return c(),p("div",null,[m,a(s,{readTime:"2",words:"625"}),a(e),a(n)])}const C=l(h,[["render",d]]);export{P as __pageData,C as default};
