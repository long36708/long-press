import{_ as e,a as p,b as l}from"./chunks/PageInfo.vue_vue_type_script_setup_true_lang.BCVHfIj7.js";import{_ as t,c as r,I as s,a7 as h,o as d}from"./chunks/framework.DGCt2JJv.js";import"./chunks/dayjs.min.DZyl58SH.js";const B=JSON.parse('{"title":"node、npm等相关概念","description":"","frontmatter":{},"headers":[],"relativePath":"tools/node各类命令.md","filePath":"tools/node各类命令.md","lastUpdated":1716735040000}'),o={name:"tools/node各类命令.md"},k=h(`<h1 id="node、npm等相关概念" tabindex="-1">node、npm等相关概念 <a class="header-anchor" href="#node、npm等相关概念" aria-label="Permalink to &quot;node、npm等相关概念&quot;">​</a></h1><p>参考地址： <a href="https://baijiahao.baidu.com/s?id=1726423980119026076&amp;wfr=spider&amp;for=pc" target="_blank" rel="noreferrer">https://baijiahao.baidu.com/s?id=1726423980119026076&amp;wfr=spider&amp;for=pc</a></p><p>node 和 npm 相关的名词很多，比较容易混淆。</p><p>下面对这些名词做个统一梳理</p><p>node：一个基于 Chrome V8 引擎的 JavaScript 运行时；提供了 JavaScript 的运行环境。可以直接到 node 官网下载安装</p><p>nvm：node.js 版本管理工具；不同项目可能需要不同版本的 node；可以使用 nvm 来管理 node.js 版本</p><p>npm：node.js 包管理工具；用来管理 node.js 中的第三方插件；新版本的 node 在安装的时候，会自动安装对应版本的 npm</p><p>nrm：npm 源的管理工具，可以用来方便的切换 npm 源</p><p>cnpm：使用的是淘宝的源。用法跟 npm 完全一致。cnpm 经常会有问题，所以在很多地方不推荐使用</p><p>yarn：经过重新设计的崭新的 npm 客户端；运行速度显著提升，整个安装时间比 npm 少。一般推荐使用 yarn 代替 npm</p><p>npx：一个 npm 包执行器。我们可以使用 npx 来执行各种命令。 npx 命令将从本地 node_modules/.bin 执行命令，安装命令运行所需的任何包。 默认情况下，npx 将检查命令是否存在于 $PATH 或本地项目二进制文件中，并执行它。 如果未找到命令，它将在执行之前安装。</p><p>=============================================================================================================</p><p>问题解决：关于nrm ls时，*（星号）消失问题</p><p>在C:\\Users\\hp\\AppData\\Roaming\\npm\\node_modules\\nrm 文件夹下找到cli.js文件，找到文件大约140行的函数onList</p><p>141 行左右</p><p>var prefix = item[FIELD_IS_CURRENT] &amp;&amp; equalsIgnoreCase(item.registry, cur) ? &#39;* &#39; : &#39; &#39;;</p><p>改为</p><p>var prefix = item[FIELD_IS_CURRENT] || equalsIgnoreCase(item.registry, cur) ? &#39;* &#39; : &#39; &#39;;</p><p>=============================================================================================================</p><h1 id="常用命令-nrm" tabindex="-1">常用命令 nrm <a class="header-anchor" href="#常用命令-nrm" aria-label="Permalink to &quot;常用命令  nrm&quot;">​</a></h1><p>全局安装</p><p>npm install nrm -g</p><p>nrm ls ：查看默认配置，带 * 号即为当前使用的配置</p><p>nrm current ：查看当前使用的是哪个源</p><p>nrm use [源的别名] ：切换到某个源</p><p>nrm add [源的别名] [源的地址] ：添加私有源。eg： nrm add qihoo <a href="http://registry.npm.360.org" target="_blank" rel="noreferrer">http://registry.npm.360.org</a></p><p>nrm test [源的别名] ：测试某个源</p><p>nrm del [源的别名] ：删除某个源</p><p>=============================================================================================================</p><h1 id="常用命令-nvm" tabindex="-1">常用命令 nvm <a class="header-anchor" href="#常用命令-nvm" aria-label="Permalink to &quot;常用命令  nvm&quot;">​</a></h1><p>nvm list 查看已安装的node版本</p><p>nvm list installed 查看已安装的node版本</p><p>nvm list available 查看网络上可以安装的node版本</p><p>nvm arch 查看当前系统的位数和当前node的位数</p><p>nvm install [arch] 安装制定版本的node并且可以指定平台version版本号arch平台</p><p>nvm on 打开node版本控制</p><p>nvm off 关闭node版本控制</p><p>nvm proxy [url] 查看和设置代理</p><p>nvm node_mirror [url] 设置或查看setting.txt中的nde_mirror, 默认： <a href="https://nodejs.org/dist/" target="_blank" rel="noreferrer">https://nodejs.org/dist/</a></p><p>nvm npm_mirror [url] 设置或查看setting.txt中的 npm_mirror, 默认：<a href="https://github.com/npm/npm/archive/" target="_blank" rel="noreferrer">https://github.com/npm/npm/archive/</a></p><p>nvm uninstall 卸载指定的版本</p><p>nvm use [version] [arch] 切换指定的node版本和位数</p><p>nvm root [path] 设置和查看root路径</p><p>nvm version 查看当前版本</p><h3 id="nvm安装" tabindex="-1">nvm安装 <a class="header-anchor" href="#nvm安装" aria-label="Permalink to &quot;nvm安装&quot;">​</a></h3><p>下载并安装 nvm windows：下载地址(<a href="https://github.com/coreybutler/nvm-windows/releases" target="_blank" rel="noreferrer">https://github.com/coreybutler/nvm-windows/releases</a>) linux/macOS：下载地址(<a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noreferrer">https://github.com/nvm-sh/nvm</a>)</p><h3 id="用nvm安装node-js" tabindex="-1">用nvm安装node.js <a class="header-anchor" href="#用nvm安装node-js" aria-label="Permalink to &quot;用nvm安装node.js&quot;">​</a></h3><p>安装命令：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 安装node.js版本</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">nvm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 14.16.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用淘宝node镜像：nvm node_mirror</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">nvm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> node_mirror</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> https://npmmirror.com/mirrors/node/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>使用淘宝npm镜像：nvm npm_mirror</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">nvm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> npm_mirror</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> https://npmmirror.com/mirrors/npm/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>或者 找到nvm安装路径 -&gt; 找到 settings.txt 文件 -&gt; 配置下载源</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>node_mirror: https://npmmirror.com/mirrors/node/</span></span>
<span class="line"><span>npm_mirror: https://npmmirror.com/mirrors/npm/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="安装全局删除工具" tabindex="-1">安装全局删除工具 <a class="header-anchor" href="#安装全局删除工具" aria-label="Permalink to &quot;安装全局删除工具&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> rimraf</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> -g</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>先安装删除工具，然后使用删除命令</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">rimraf</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> node_modules</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="设置taobao镜像" tabindex="-1">设置taobao镜像 <a class="header-anchor" href="#设置taobao镜像" aria-label="Permalink to &quot;设置taobao镜像&quot;">​</a></h2><p>npm config set registry <a href="https://registry.npm.taobao.org" target="_blank" rel="noreferrer">https://registry.npm.taobao.org</a></p><h2 id="全局安装的依赖包" tabindex="-1">全局安装的依赖包 <a class="header-anchor" href="#全局安装的依赖包" aria-label="Permalink to &quot;全局安装的依赖包&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> i</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> npkill</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> pnpm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> yarn</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> rimraf</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> prettier</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> typescript</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> ts-node</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> nodemon</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">  compressing</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> eslint</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> fkill-cli</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> gogocode-cli</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> jsdoc</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">  yo</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> @wytxer/wy-cli</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">  @vue/cli</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> -g</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="start" tabindex="-1">start <a class="header-anchor" href="#start" aria-label="Permalink to &quot;start&quot;">​</a></h2><p>start.cmd</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> .</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">front.log</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">start</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">front.log</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> &amp;</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;Start front complete!&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>start.sh</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> ..</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">front.log</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">nohup</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">front.log</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> &amp;</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;Start front complete!&quot;</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">tail</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> front.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="node-js命令行程序开发完整教程" tabindex="-1">Node.js命令行程序开发完整教程 <a class="header-anchor" href="#node-js命令行程序开发完整教程" aria-label="Permalink to &quot;Node.js命令行程序开发完整教程&quot;">​</a></h2><p><a href="https://www.kancloud.cn/outsider/clitool/313173" target="_blank" rel="noreferrer">https://www.kancloud.cn/outsider/clitool/313173</a></p><h2 id="发布到-npm" tabindex="-1">发布到 NPM <a class="header-anchor" href="#发布到-npm" aria-label="Permalink to &quot;发布到 NPM&quot;">​</a></h2><ol><li>登录 npm，依次输入相关信息：</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> login</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> --registry</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> https://registry.npmjs.org</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>发布到 npm</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> publish</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> --registry</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> https://registry.npmjs.org</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>注意每次发包前，确定package.json中的version是否更新，可通过命令设置 npm 包版本(需要先提交代码到git仓库)</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#098658;--shiki-dark:#D19A66;"> 1.1.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>为了不污染 npm 环境，测试包尽量 72 小时内删除项目~</p><ol start="3"><li>删除 npm 包，或者删除某个版本</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> unpublish</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> --registry</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> https://registry.npmjs.org</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> xxx@1.1.1</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> --force</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果出现版本问题</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> electron-store</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> --legacy-peer-deps</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="发包" tabindex="-1">发包 <a class="header-anchor" href="#发包" aria-label="Permalink to &quot;发包&quot;">​</a></h2><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">&quot;preinstall&quot;</span><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;npx only-allow pnpm&quot;,</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">&quot;prepublishOnly&quot;</span><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;npm run build&quot;,</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">&quot;release&quot;</span><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;np --no-cleanup --no-tests --any-branch&quot;,</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">    &quot;start&quot;</span><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;dumi dev&quot;,</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">    &quot;docs:build&quot;</span><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;dumi build&quot;,</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">    &quot;docs:deploy&quot;</span><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;gh-pages -d docs-dist&quot;,</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">    &quot;deploy&quot;</span><span style="--shiki-light:#795E26;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> &quot;npm run docs:build &amp;&amp; npm run docs:deploy&quot;,</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;homepage&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;https://github.com/xxx#readme&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;bugs&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">    &quot;url&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;https://github.com/xxx/issues&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;repository&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">    &quot;type&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;git&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">    &quot;url&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;git+https://github.com/xxx.git&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;publishConfig&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">    &quot;access&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;public&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">    &quot;registry&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;https://registry.npmjs.org/&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;main&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;lib/index.js&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;module&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;esm/index.js&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;typings&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">&quot;lib/index.d.ts&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#0451A5;--shiki-dark:#E06C75;">  &quot;files&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">    &quot;lib&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#98C379;">    &quot;esm&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="npm-check-updates" tabindex="-1">npm-check-updates <a class="header-anchor" href="#npm-check-updates" aria-label="Permalink to &quot;npm-check-updates&quot;">​</a></h2><p>要快速更新 <code>package.json</code> 文件中的第三方包版本，你可以按照以下步骤操作：</p><h3 id="使用-npm-update" tabindex="-1">使用 <code>npm update</code> <a class="header-anchor" href="#使用-npm-update" aria-label="Permalink to &quot;使用 \`npm update\`&quot;">​</a></h3><ol><li><p><strong>自动更新到最新兼容版本</strong>：在项目根目录下，运行 <code>npm update</code> 命令。这会检查 <code>package.json</code> 和 <code>package-lock.json</code> 文件中列出的每个包，并更新它们到最新兼容版本（符合语义化版本控制规则）。此命令不会更新到主要新版本，以避免可能引入的破坏性更改。</p></li><li><p><strong>更新特定包</strong>：如果你只想更新某个特定的包，可以使用 <code>npm update &lt;package-name&gt;</code>。例如，<code>npm update vue</code> 会更新 Vue.js 到最新兼容版本。</p></li></ol><h3 id="使用-npm-check-updates" tabindex="-1">使用 <code>npm-check-updates</code> <a class="header-anchor" href="#使用-npm-check-updates" aria-label="Permalink to &quot;使用 \`npm-check-updates\`&quot;">​</a></h3><p><code>npm-check-updates</code>（简称 ncu）是一个非常实用的命令行工具，用于检查并管理 Node.js 项目的依赖包版本更新。以下是详细的使用教程：</p><h3 id="安装-npm-check-updates" tabindex="-1">安装 npm-check-updates <a class="header-anchor" href="#安装-npm-check-updates" aria-label="Permalink to &quot;安装 npm-check-updates&quot;">​</a></h3><p>首先，你需要全局安装 <code>npm-check-updates</code>。打开终端或命令提示符，然后运行以下命令：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> npm-check-updates</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> global</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> npm-check-updates</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="检查可更新的依赖" tabindex="-1">检查可更新的依赖 <a class="header-anchor" href="#检查可更新的依赖" aria-label="Permalink to &quot;检查可更新的依赖&quot;">​</a></h3><p>安装完成后，你可以运行 <code>ncu</code> 来检查当前项目 <code>package.json</code> 中所有依赖包是否有新版本：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">ncu</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这会列出所有可以更新的包及其当前版本与最新版本的对比。</p><h3 id="更新-package-json-文件" tabindex="-1">更新 package.json 文件 <a class="header-anchor" href="#更新-package-json-文件" aria-label="Permalink to &quot;更新 package.json 文件&quot;">​</a></h3><p>如果想要直接在 <code>package.json</code> 文件中更新这些依赖包的版本号，而不立即下载安装新版本，可以加上 <code>-u</code> 或 <code>--upgrade</code> 参数：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">ncu</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> -u</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这会修改 <code>package.json</code> 中的版本号为各个包的最新版本，但不会实际安装这些新版本。</p><h3 id="查看特定包的更新" tabindex="-1">查看特定包的更新 <a class="header-anchor" href="#查看特定包的更新" aria-label="Permalink to &quot;查看特定包的更新&quot;">​</a></h3><p>如果你想检查特定包是否有更新，可以在命令后加上包名：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">ncu</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> react</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="指定版本范围" tabindex="-1">指定版本范围 <a class="header-anchor" href="#指定版本范围" aria-label="Permalink to &quot;指定版本范围&quot;">​</a></h3><p>默认情况下，<code>ncu</code> 会将版本更新到最新版本，但你可以使用 <code>--target</code> 参数来限制版本更新的范围，比如只更新到次版本或补丁版本：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">ncu</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> --target=minor</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="自动安装更新" tabindex="-1">自动安装更新 <a class="header-anchor" href="#自动安装更新" aria-label="Permalink to &quot;自动安装更新&quot;">​</a></h3><p>为了更进一步，你可以在更新 <code>package.json</code> 后立即执行 <code>npm install</code> 或 <code>yarn install</code> 来安装新版本的依赖。 虽然 <code>ncu</code>本身不直接提供这一功能，你可以在命令行中顺序执行这两个命令：</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes light-plus one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">ncu</span><span style="--shiki-light:#0000FF;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#000000;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#795E26;--shiki-dark:#61AFEF;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h3><p><code>npm-check-updates</code> 支持配置文件 <code>.ncurc.json</code> 或 <code>.ncurc.js</code> 来定制行为，比如设置默认的目标版本范围、忽略的包等。</p><h3 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p><code>npm-check-updates</code> 是一个强大的工具，帮助你保持项目依赖的最新状态，减少因依赖过时引发的安全风险和潜在的兼容性问题。 记得在执行批量更新后，仔细测试你的应用程序以确保所有依赖更新后仍能正常工作。</p><h3 id="注意事项" tabindex="-1">注意事项： <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项：&quot;">​</a></h3><ul><li>在进行大规模更新之前，建议创建一个分支或备份你的项目，以防更新导致的不兼容问题。</li><li>确保阅读包的更新日志，特别是当你准备更新到主要新版本时，因为这可能会引入破坏性变更。</li><li>如果你的项目使用了 <code>yarn</code> 作为包管理器，类似的命令也会适用，例如使用 <code>yarn upgrade</code> 或者 <code>yarn upgrade-interactive</code>。</li></ul><p>以上步骤可以帮助你有效地管理并更新项目中的第三方依赖包。</p><h2 id="contributors" tabindex="-1">Contributors <a class="header-anchor" href="#contributors" aria-label="Permalink to &quot;Contributors&quot;">​</a></h2>`,120);function c(u,m,g,b,y,v){const a=e,i=p,n=l;return d(),r("div",null,[k,s(a,{readTime:"7",words:"2k"}),s(i),s(n)])}const F=t(o,[["render",c]]);export{B as __pageData,F as default};
